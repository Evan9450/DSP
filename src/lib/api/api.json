{
  "openapi": "3.1.0",
  "info": {
    "title": "DSP System",
    "description": "DSP System - Driver, Vehicle, Schedule & Asset Management Platform",
    "version": "1.0.0"
  },
  "paths": {
    "/health": {
      "get": {
        "summary": "Health Check",
        "description": "Health check endpoint.",
        "operationId": "health_check_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/login": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "Login",
        "description": "Authenticate user and return JWT token.",
        "operationId": "login_api_v1_auth_login_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserLogin"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Token"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/forgot-password/send-code": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "Admin Forgot Password Send Code",
        "description": "Send a 6-digit verification code via SMS to the admin's phone.",
        "operationId": "admin_forgot_password_send_code_api_v1_auth_forgot_password_send_code_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserForgotPasswordRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/forgot-password/reset": {
      "post": {
        "tags": [
          "Authentication"
        ],
        "summary": "Admin Forgot Password Reset",
        "description": "Reset admin password using the SMS verification code.",
        "operationId": "admin_forgot_password_reset_api_v1_auth_forgot_password_reset_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserForgotPasswordReset"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/driver/login": {
      "post": {
        "tags": [
          "Driver App"
        ],
        "summary": "Driver Login",
        "description": "Driver login - authenticate using Amazon ID and password.\n\nRequirements:\n- Driver must have valid amazon_id and password\n- Driver must have a schedule for today to login\n\nReturns JWT token for driver app authentication.",
        "operationId": "driver_login_api_v1_driver_login_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DriverLogin"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DriverToken"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/driver/today": {
      "get": {
        "tags": [
          "Driver App"
        ],
        "summary": "Get Today Info",
        "description": "Get today's schedule information and existing inspection (if any).\n\nReturns:\n- schedule: Today's schedule with vehicle and route assignment\n- existing_inspection: Today's inspection record if already created",
        "operationId": "get_today_info_api_v1_driver_today_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/driver/inspection": {
      "put": {
        "tags": [
          "Driver App"
        ],
        "summary": "Update Inspection",
        "description": "Update today's inspection record.\n\nDriver can only update today's inspection.\nAllows updating photos, mileage, and notes multiple times within the same day.\n\nNote: Once admin has reviewed the inspection, it cannot be modified by driver.",
        "operationId": "update_inspection_api_v1_driver_inspection_put",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DriverInspectionUpdate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DriverVehicleInspectionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      },
      "post": {
        "tags": [
          "Driver App"
        ],
        "summary": "Create Inspection",
        "description": "Update today's vehicle inspection record (created automatically when schedule is confirmed).\n\nDriver CANNOT create new inspection - it must be auto-created when admin confirms the schedule.\nThis endpoint only allows updating the existing inspection with photos, mileage, and notes.\n\nWorkflow:\n1. Admin confirms schedule → Inspection auto-created (empty)\n2. Driver uploads photos to /api/v1/files/batch-upload\n3. Get photo URLs from response\n4. Call this endpoint to update inspection with photos and details\n\nNote: This endpoint will return 404 if no inspection exists for today.",
        "operationId": "create_inspection_api_v1_driver_inspection_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DriverInspectionCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DriverVehicleInspectionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/driver/forgot-password/send-code": {
      "post": {
        "tags": [
          "Driver App"
        ],
        "summary": "Driver Forgot Password Send Code",
        "description": "Send a 6-digit verification code via SMS to the driver's phone.\nSupports both local (0451xxxxxx) and international (+61451xxxxxx) formats.",
        "operationId": "driver_forgot_password_send_code_api_v1_driver_forgot_password_send_code_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DriverForgotPasswordRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/driver/forgot-password/reset": {
      "post": {
        "tags": [
          "Driver App"
        ],
        "summary": "Driver Forgot Password Reset",
        "description": "Reset driver password using the SMS verification code.\nSupports both local (0451xxxxxx) and international (+61451xxxxxx) phone formats.",
        "operationId": "driver_forgot_password_reset_api_v1_driver_forgot_password_reset_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DriverForgotPasswordReset"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/me": {
      "get": {
        "tags": [
          "Users"
        ],
        "summary": "Get Current User Info",
        "description": "Get current user information.",
        "operationId": "get_current_user_info_api_v1_users_me_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/users/": {
      "get": {
        "tags": [
          "Users"
        ],
        "summary": "List Users",
        "description": "List all users.\n\nUser roles:\n- 0 (Admin): Superuser - only one allowed in the system\n- 1 (Manager): Manager - can have multiple",
        "operationId": "list_users_api_v1_users__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "skip",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Skip"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 100,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/UserResponse"
                  },
                  "title": "Response List Users Api V1 Users  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Users"
        ],
        "summary": "Create User",
        "description": "Create new user.\n\nUser roles:\n- 0 (Admin): Superuser - only ONE allowed in the system\n- 1 (Manager): Manager - can have multiple\n\nNote: Only one admin (role 0) is allowed in the system.",
        "operationId": "create_user_api_v1_users__post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/users/{user_id}": {
      "get": {
        "tags": [
          "Users"
        ],
        "summary": "Get User",
        "description": "Get user by ID.",
        "operationId": "get_user_api_v1_users__user_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Users"
        ],
        "summary": "Update User",
        "description": "Update user.\n\nUser roles:\n- 0 (Admin): Superuser - only ONE allowed in the system\n- 1 (Manager): Manager - can have multiple\n\nPassword change:\n- To change password, simply provide the new password in the 'password' field\n- No old password verification required (admin can reset any user's password)\n\nRestrictions:\n- Cannot change role to admin (0) if another admin already exists\n- Cannot remove admin role from the only admin",
        "operationId": "update_user_api_v1_users__user_id__put",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "User Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UserUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UserResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Users"
        ],
        "summary": "Delete User",
        "description": "Delete user.\n\nCannot delete:\n- Your own account\n- The admin (role 0, superuser) account",
        "operationId": "delete_user_api_v1_users__user_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "user_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "User Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/drivers/": {
      "get": {
        "tags": [
          "Drivers (Admin)"
        ],
        "summary": "List Drivers",
        "description": "List all drivers.",
        "operationId": "list_drivers_api_v1_drivers__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "skip",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Skip"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 100,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/DriverResponse"
                  },
                  "title": "Response List Drivers Api V1 Drivers  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Drivers (Admin)"
        ],
        "summary": "Create Driver",
        "description": "Create new driver.\n\nRequired fields:\n- name: Driver name (required)\n\nOptional fields:\n- amazon_id: Amazon ID (optional)\n- password: Login password (optional)\n- phone, email, address, deputy_id\n\nActivation logic:\n- Only activated (is_active=True) if BOTH amazon_id AND password are provided\n- Otherwise created as inactive (is_active=False)",
        "operationId": "create_driver_api_v1_drivers__post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DriverCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DriverResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/drivers/loginable": {
      "get": {
        "tags": [
          "Drivers (Admin)"
        ],
        "summary": "List Loginable Drivers",
        "description": "List all drivers that can login to driver app.\n\nA driver can login if:\n- is_active is True (manually set by admin)\n- amazon_id is set\n- hashed_password is set\n\nReturns amazon_id, hashed_password, and other basic info for debugging.",
        "operationId": "list_loginable_drivers_api_v1_drivers_loginable_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/drivers/{driver_id}": {
      "get": {
        "tags": [
          "Drivers (Admin)"
        ],
        "summary": "Get Driver",
        "description": "Get driver by ID.",
        "operationId": "get_driver_api_v1_drivers__driver_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "driver_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Driver Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DriverResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Drivers (Admin)"
        ],
        "summary": "Update Driver",
        "description": "Update driver info (supports updating basic info and files simultaneously)\n\n- Can update only basic info\n- Can manually set is_active status (controls if driver can login)\n- Can pass URL array directly via license_file_url/visa_file_url (JSON string format)\n- Can upload new files via license_files/visa_files\n- Can do both simultaneously\n\nAuto activation/deactivation logic:\n1. Set amazon_id (when hashed_password exists and is_active not manually set) -\u003E Auto activate\n2. Remove amazon_id (empty or empty string) -\u003E Force deactivate\n3. Manually set is_active -\u003E Mark as manually set, subsequent auto logic will not override\n\nExamples:\n- license_file_url: '[\"http://localhost:8000/api/v1/files/download/1\", \"http://localhost:8000/api/v1/files/download/2\"]'\n- is_active: true/false (manual control)\n- amazon_id: \"\" (remove amazon_id, force deactivate)",
        "operationId": "update_driver_api_v1_drivers__driver_id__put",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "driver_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Driver Id"
            }
          }
        ],
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "allOf": [
                  {
                    "$ref": "#/components/schemas/Body_update_driver_api_v1_drivers__driver_id__put"
                  }
                ],
                "title": "Body"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DriverResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Drivers (Admin)"
        ],
        "summary": "Delete Driver",
        "description": "Delete driver and all associated files from MinIO storage.",
        "operationId": "delete_driver_api_v1_drivers__driver_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "driver_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Driver Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/drivers/import/amazon-ids": {
      "post": {
        "tags": [
          "Drivers (Admin)"
        ],
        "summary": "Import Amazon Ids",
        "description": "Import Amazon IDs from Excel/CSV file.",
        "operationId": "import_amazon_ids_api_v1_drivers_import_amazon_ids_post",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_import_amazon_ids_api_v1_drivers_import_amazon_ids_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/drivers/{driver_id}/set-password": {
      "post": {
        "tags": [
          "Drivers (Admin)"
        ],
        "summary": "Set Driver Password",
        "description": "Set or reset password for driver app login (Admin only).\n\nAuto-enable logic:\n- If amazon_id exists AND admin has NOT manually set is_active → auto-enable (is_active=True)\n- If admin previously manually disabled the driver → preserves manual setting",
        "operationId": "set_driver_password_api_v1_drivers__driver_id__set_password_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "driver_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Driver Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DriverSetPassword"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/drivers/{driver_id}/delete-license-file": {
      "delete": {
        "tags": [
          "Drivers (Admin)"
        ],
        "summary": "Delete License File",
        "description": "Delete specified license file\n\n- file_url: URL of the file to delete",
        "operationId": "delete_license_file_api_v1_drivers__driver_id__delete_license_file_delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "driver_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Driver Id"
            }
          },
          {
            "name": "file_url",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "File Url"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/drivers/{driver_id}/delete-visa-file": {
      "delete": {
        "tags": [
          "Drivers (Admin)"
        ],
        "summary": "Delete Visa File",
        "description": "Delete specified visa file\n\n- file_url: URL of the file to delete",
        "operationId": "delete_visa_file_api_v1_drivers__driver_id__delete_visa_file_delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "driver_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Driver Id"
            }
          },
          {
            "name": "file_url",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "title": "File Url"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/drivers/documents/expiring": {
      "get": {
        "tags": [
          "Drivers (Admin)"
        ],
        "summary": "Get Expiring Documents",
        "description": "Get list of expiring licenses and visas",
        "operationId": "get_expiring_documents_api_v1_drivers_documents_expiring_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "days_ahead",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 30,
              "title": "Days Ahead"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/vehicles/": {
      "get": {
        "tags": [
          "Vehicles"
        ],
        "summary": "List Vehicles",
        "description": "List all vehicles with optional filters.",
        "operationId": "list_vehicles_api_v1_vehicles__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "status_filter",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Status Filter"
            }
          },
          {
            "name": "condition_filter",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Condition Filter"
            }
          },
          {
            "name": "skip",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Skip"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 100,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/VehicleResponse"
                  },
                  "title": "Response List Vehicles Api V1 Vehicles  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Vehicles"
        ],
        "summary": "Create Vehicle",
        "description": "Create new vehicle.",
        "operationId": "create_vehicle_api_v1_vehicles__post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VehicleCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VehicleResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/vehicles/available": {
      "get": {
        "tags": [
          "Vehicles"
        ],
        "summary": "List Available Vehicles",
        "description": "List available vehicles (condition=\"available\") for assignment.",
        "operationId": "list_available_vehicles_api_v1_vehicles_available_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/VehicleResponse"
                  },
                  "type": "array",
                  "title": "Response List Available Vehicles Api V1 Vehicles Available Get"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/vehicles/inspections": {
      "get": {
        "tags": [
          "Vehicles"
        ],
        "summary": "List Inspections",
        "description": "List vehicle inspection records with optional filters.\n\nQuery parameters:\n- vehicle_id: Filter by vehicle ID\n- driver_id: Filter by driver ID\n- reviewed: Filter by review status (true/false)\n- condition: Filter by vehicle condition (\"available\", \"need-repair\", \"unavailable\")\n- inspection_date: Filter by specific date (YYYY-MM-DD)\n- start_date: Filter by date range start (YYYY-MM-DD)\n- end_date: Filter by date range end (YYYY-MM-DD)\n- skip: Pagination offset\n- limit: Maximum records to return\n\nExamples:\n- Get all inspections for vehicle 1: ?vehicle_id=1\n- Get inspections on specific date: ?inspection_date=2025-11-22\n- Get inspections in date range: ?start_date=2025-11-01&end_date=2025-11-30\n- Get unreviewed inspections: ?reviewed=false\n- Get inspections with available condition: ?condition=available\n- Get inspections that need repair: ?condition=need-repair\n- Get unavailable inspections: ?condition=unavailable",
        "operationId": "list_inspections_api_v1_vehicles_inspections_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "vehicle_id",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "title": "Vehicle Id"
            }
          },
          {
            "name": "driver_id",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "title": "Driver Id"
            }
          },
          {
            "name": "reviewed",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "title": "Reviewed"
            }
          },
          {
            "name": "condition",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Condition"
            }
          },
          {
            "name": "inspection_date",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "format": "date",
              "title": "Inspection Date"
            }
          },
          {
            "name": "start_date",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "format": "date",
              "title": "Start Date"
            }
          },
          {
            "name": "end_date",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "format": "date",
              "title": "End Date"
            }
          },
          {
            "name": "skip",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Skip"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 100,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/VehicleInspectionResponse"
                  },
                  "title": "Response List Inspections Api V1 Vehicles Inspections Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/vehicles/maintenance-due": {
      "get": {
        "tags": [
          "Vehicles"
        ],
        "summary": "List Vehicles Maintenance Due",
        "description": "List vehicles that need maintenance soon.",
        "operationId": "list_vehicles_maintenance_due_api_v1_vehicles_maintenance_due_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "days_ahead",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 7,
              "title": "Days Ahead"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/VehicleResponse"
                  },
                  "title": "Response List Vehicles Maintenance Due Api V1 Vehicles Maintenance Due Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/vehicles/{vehicle_id}": {
      "get": {
        "tags": [
          "Vehicles"
        ],
        "summary": "Get Vehicle Detail",
        "description": "Get vehicle detail by ID with photos and recent inspections.",
        "operationId": "get_vehicle_detail_api_v1_vehicles__vehicle_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "vehicle_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Vehicle Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VehicleDetailResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Vehicles"
        ],
        "summary": "Update Vehicle",
        "description": "Update vehicle.",
        "operationId": "update_vehicle_api_v1_vehicles__vehicle_id__put",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "vehicle_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Vehicle Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VehicleUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VehicleResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Vehicles"
        ],
        "summary": "Delete Vehicle",
        "description": "Delete vehicle.",
        "operationId": "delete_vehicle_api_v1_vehicles__vehicle_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "vehicle_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Vehicle Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/vehicles/{vehicle_id}/inspection-photos": {
      "get": {
        "tags": [
          "Vehicles"
        ],
        "summary": "Get Vehicle Inspection Photos",
        "description": "Get inspection records with photos for a specific vehicle.\n\nQuery parameters:\n- vehicle_id (required): Vehicle ID\n- inspection_date (optional): Filter by specific date (format: YYYY-MM-DD)\n- skip: Number of records to skip (pagination)\n- limit: Maximum number of records to return\n\nReturns inspection records grouped by date, each with photo arrays.",
        "operationId": "get_vehicle_inspection_photos_api_v1_vehicles__vehicle_id__inspection_photos_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "vehicle_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Vehicle Id"
            }
          },
          {
            "name": "inspection_date",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "format": "date",
              "title": "Inspection Date"
            }
          },
          {
            "name": "skip",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Skip"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 50,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/VehicleInspectionPhotoResponse"
                  },
                  "title": "Response Get Vehicle Inspection Photos Api V1 Vehicles  Vehicle Id  Inspection Photos Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/vehicles/{vehicle_id}/usage-history": {
      "get": {
        "tags": [
          "Vehicles"
        ],
        "summary": "Get Vehicle Usage History",
        "description": "Get comprehensive usage history for a vehicle.\n\nThis includes:\n- Schedule assignments (when the vehicle was assigned to drivers)\n- Inspection records with photos (from drivers' daily inspections)\n- Maintenance records",
        "operationId": "get_vehicle_usage_history_api_v1_vehicles__vehicle_id__usage_history_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "vehicle_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Vehicle Id"
            }
          },
          {
            "name": "limit_assignments",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 50,
              "title": "Limit Assignments"
            }
          },
          {
            "name": "limit_inspections",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 50,
              "title": "Limit Inspections"
            }
          },
          {
            "name": "limit_maintenance",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 20,
              "title": "Limit Maintenance"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VehicleUsageHistoryResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/vehicles/{vehicle_id}/send-maintenance-email": {
      "post": {
        "tags": [
          "Vehicles"
        ],
        "summary": "Send Maintenance Booking Email",
        "description": "Manually send maintenance booking email to vehicle's repair supplier.\n\nThis endpoint allows admins to manually trigger maintenance booking emails to configured repair suppliers.\n\nRequirements:\n- Vehicle must have repair_supplier_id configured\n- Repair supplier must have an email address\n\nEmail will include scheduled_maintenance_date (if set),\notherwise use next_maintenance_date, or unspecified date.\n\nReturns:\n- success: Whether email was sent successfully\n- message: Status message\n- vehicle_info: Basic vehicle info",
        "operationId": "send_maintenance_booking_email_api_v1_vehicles__vehicle_id__send_maintenance_email_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "vehicle_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Vehicle Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/vehicles/{vehicle_id}/maintenance-history": {
      "get": {
        "tags": [
          "Vehicles"
        ],
        "summary": "Get Vehicle Maintenance History",
        "description": "Get vehicle maintenance history",
        "operationId": "get_vehicle_maintenance_history_api_v1_vehicles__vehicle_id__maintenance_history_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "vehicle_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Vehicle Id"
            }
          },
          {
            "name": "skip",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Skip"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 100,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/VehicleMaintenanceResponse"
                  },
                  "title": "Response Get Vehicle Maintenance History Api V1 Vehicles  Vehicle Id  Maintenance History Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Vehicles"
        ],
        "summary": "Create Vehicle Maintenance Record",
        "description": "Create vehicle maintenance record",
        "operationId": "create_vehicle_maintenance_record_api_v1_vehicles__vehicle_id__maintenance_history_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "vehicle_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Vehicle Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VehicleMaintenanceCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VehicleMaintenanceResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/vehicles/{vehicle_id}/maintenance-history/{record_id}": {
      "delete": {
        "tags": [
          "Vehicles"
        ],
        "summary": "Delete Vehicle Maintenance Record",
        "description": "Delete vehicle maintenance record",
        "operationId": "delete_vehicle_maintenance_record_api_v1_vehicles__vehicle_id__maintenance_history__record_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "vehicle_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Vehicle Id"
            }
          },
          {
            "name": "record_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Record Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/vehicles/{vehicle_id}/complete-maintenance": {
      "post": {
        "tags": [
          "Vehicles"
        ],
        "summary": "Complete Maintenance",
        "description": "Confirm maintenance completion.\n\n1. Create maintenance history record (link to current supplier)\n2. Update vehicle last_maintenance_date\n3. Reset maintenance_cycle_days to 180 (if less than 0 or not set)\n4. Automatically calculate next_maintenance_date (based on days, +180)\n5. Clear scheduled_maintenance_date and email_sent status",
        "operationId": "complete_maintenance_api_v1_vehicles__vehicle_id__complete_maintenance_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "vehicle_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Vehicle Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VehicleMaintenanceComplete"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/schedules/": {
      "get": {
        "tags": [
          "Schedules"
        ],
        "summary": "List Schedules",
        "description": "Get schedule list\n\n- If schedule_date is specified and no data in DB, auto sync from Deputy (unless auto_sync=False)\n- Supports filtering by deputy_id and checkin_status",
        "operationId": "list_schedules_api_v1_schedules__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "schedule_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by date",
              "title": "Schedule Date"
            },
            "description": "Filter by date"
          },
          {
            "name": "deputy_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by Deputy employee ID",
              "title": "Deputy Id"
            },
            "description": "Filter by Deputy employee ID"
          },
          {
            "name": "checkin_status",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "$ref": "#/components/schemas/app__models__driver_checkin__CheckinStatus"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by checkin status",
              "title": "Checkin Status"
            },
            "description": "Filter by checkin status"
          },
          {
            "name": "auto_sync",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Auto sync from Deputy if no data in DB",
              "default": true,
              "title": "Auto Sync"
            },
            "description": "Auto sync from Deputy if no data in DB"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ScheduleResponse"
                  },
                  "title": "Response List Schedules Api V1 Schedules  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/schedules/today": {
      "get": {
        "tags": [
          "Schedules"
        ],
        "summary": "Get Today Schedules",
        "description": "Get today's schedules\n\n- If no data for today in DB, auto sync from Deputy (unless auto_sync=False)",
        "operationId": "get_today_schedules_api_v1_schedules_today_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "auto_sync",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "Auto sync from Deputy if no data in DB",
              "default": true,
              "title": "Auto Sync"
            },
            "description": "Auto sync from Deputy if no data in DB"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ScheduleResponse"
                  },
                  "title": "Response Get Today Schedules Api V1 Schedules Today Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/schedules/routes": {
      "get": {
        "tags": [
          "Schedules"
        ],
        "summary": "List Routes",
        "description": "Get the list of currently stored routes (Singleton)\n\nReturns the latest uploaded route codes.",
        "operationId": "list_routes_api_v1_schedules_routes_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RouteResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/schedules/{schedule_id}": {
      "get": {
        "tags": [
          "Schedules"
        ],
        "summary": "Get Schedule",
        "description": "Get schedule details",
        "operationId": "get_schedule_api_v1_schedules__schedule_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "schedule_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Schedule Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ScheduleResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Schedules"
        ],
        "summary": "Update Schedule",
        "description": "Update schedule information\n\nUpdatable fields: driver_id, route, vehicle_rego, checkin_status\n\n**Note**:\n- If driver_id provided, automatically look up and update deputy_id, driver_name, amazon_id from Driver table\n- confirm_status cannot be modified via this endpoint, must use POST /schedules/{id}/confirm endpoint",
        "operationId": "update_schedule_api_v1_schedules__schedule_id__put",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "schedule_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Schedule Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ScheduleUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ScheduleResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Schedules"
        ],
        "summary": "Delete Schedule",
        "description": "Delete schedule",
        "operationId": "delete_schedule_api_v1_schedules__schedule_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "schedule_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Schedule Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/schedules/sync-date": {
      "post": {
        "tags": [
          "Schedules"
        ],
        "summary": "Sync Specific Date",
        "description": "Manually sync Deputy schedule data for specific date",
        "operationId": "sync_specific_date_api_v1_schedules_sync_date_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "sync_date",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date",
              "description": "Date to sync",
              "title": "Sync Date"
            },
            "description": "Date to sync"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/schedules/sync-today": {
      "post": {
        "tags": [
          "Schedules"
        ],
        "summary": "Sync Today",
        "description": "Manually sync today's Deputy schedule data",
        "operationId": "sync_today_api_v1_schedules_sync_today_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/schedules/import-routes": {
      "post": {
        "tags": [
          "Schedules"
        ],
        "summary": "Import Routes",
        "description": "Upload Amazon route file and auto-match/update schedule route field\nIf no match, record as unmatched route (no longer creates new schedules)\n\n- **file**: Amazon route Excel file (.xlsx)\n- **import_date**: Schedule date to update (default today)\n\n**Workflow**:\n1. Parse Excel file for Route code and optional Transporter ID\n2. Query all schedules for specific date\n3. Try matching existing schedule by Transporter ID (highest priority)\n4. If no ID match, try matching by Route Code (fallback)\n5. If match found -\u003E update route of existing schedule\n6. If match failed -\u003E record as unmatched route (no new schedule created)\n\n**Required fields**: Route code\n**Optional fields**: Transporter ID",
        "operationId": "import_routes_api_v1_schedules_import_routes_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "import_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Import schedule date (default today)",
              "title": "Import Date"
            },
            "description": "Import schedule date (default today)"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_import_routes_api_v1_schedules_import_routes_post"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RouteImportResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/schedules/{schedule_id}/confirm": {
      "post": {
        "tags": [
          "Schedules"
        ],
        "summary": "Confirm Schedule",
        "description": "Confirm schedule and send SMS to driver\n\n**Required fields check**:\n- ✅ driver (amazon_id) - Driver's Amazon ID must be assigned\n- ✅ route - Route must be assigned\n- ✅ vehicle_rego - Vehicle must be assigned\n\n**Functionality**:\n1. Verify required fields assigned (Driver Amazon ID, Route, Vehicle)\n2. Update confirm_status to CONFIRMED\n3. Find corresponding Driver (by deputy_id)\n4. Send SMS to driver containing:\n   - Driver name\n   - Route\n   - Vehicle (vehicle_rego)\n   - Time (start_time ~ end_time)\n\n**SMS Example**:\n```\nHi John, your schedule confirmed!\nDate: 2025-12-30\nRoute: DBS7-01A\nVehicle: Van 10\nTime: 08:00 - 18:00\n```",
        "operationId": "confirm_schedule_api_v1_schedules__schedule_id__confirm_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "schedule_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Schedule Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ScheduleResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/schedules/batch-confirm": {
      "post": {
        "tags": [
          "Schedules"
        ],
        "summary": "Batch Confirm Schedules",
        "description": "Batch confirm schedules and send SMS notifications to drivers\n\n**Request Body**:\n- schedule_ids: List of schedule IDs to confirm\n\n**Validation Rules** (per schedule):\n- ✅ driver (amazon_id) - Driver's Amazon ID must be assigned\n- ✅ route - Route must be assigned\n- ✅ vehicle_rego - Vehicle must be assigned\n- ✅ confirm_status != CONFIRMED - Cannot re-confirm\n\n**Returns**:\n- success: List of successfully confirmed schedules (with SMS status)\n- failed: List of failed schedules (with error reason)\n\n**Note**: Partial success mode, failure of one does not rollback others",
        "operationId": "batch_confirm_schedules_api_v1_schedules_batch_confirm_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BatchConfirmRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BatchConfirmResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/assets/products": {
      "get": {
        "tags": [
          "Assets & Inventory"
        ],
        "summary": "List Products",
        "description": "List all products.",
        "operationId": "list_products_api_v1_assets_products_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "skip",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Skip"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 100,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ProductResponse"
                  },
                  "title": "Response List Products Api V1 Assets Products Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Assets & Inventory"
        ],
        "summary": "Create Product",
        "description": "Create new product.",
        "operationId": "create_product_api_v1_assets_products_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProductCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProductResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/assets/products/{product_id}": {
      "get": {
        "tags": [
          "Assets & Inventory"
        ],
        "summary": "Get Product",
        "description": "Get product by ID.",
        "operationId": "get_product_api_v1_assets_products__product_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "product_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Product Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProductResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Assets & Inventory"
        ],
        "summary": "Update Product",
        "description": "Update product.",
        "operationId": "update_product_api_v1_assets_products__product_id__put",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "product_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Product Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProductUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProductResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Assets & Inventory"
        ],
        "summary": "Delete Product",
        "description": "Delete product.",
        "operationId": "delete_product_api_v1_assets_products__product_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "product_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Product Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/assets/products/{product_id}/inventory": {
      "get": {
        "tags": [
          "Assets & Inventory"
        ],
        "summary": "List Product Inventory",
        "description": "List inventory records for a product.",
        "operationId": "list_product_inventory_api_v1_assets_products__product_id__inventory_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "product_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Product Id"
            }
          },
          {
            "name": "skip",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Skip"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 100,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ProductInventoryResponse"
                  },
                  "title": "Response List Product Inventory Api V1 Assets Products  Product Id  Inventory Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/assets/inventory": {
      "post": {
        "tags": [
          "Assets & Inventory"
        ],
        "summary": "Add Inventory",
        "description": "Add inventory (stock purchase).",
        "operationId": "add_inventory_api_v1_assets_inventory_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProductInventoryCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProductInventoryResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/assets/inventory-changes": {
      "get": {
        "tags": [
          "Assets & Inventory"
        ],
        "summary": "List Inventory Changes",
        "description": "List all inventory changes (both IN and OUT).\n\n- change_type: \"IN\" for stock in (purchases), \"OUT\" for stock out (distributions)\n- Returns combined records from ProductInventory and ProductBorrow tables\n- Sorted by created_at descending (newest first)",
        "operationId": "list_inventory_changes_api_v1_assets_inventory_changes_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "product_id",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "title": "Product Id"
            }
          },
          {
            "name": "change_type",
            "in": "query",
            "required": false,
            "schema": {
              "type": "string",
              "title": "Change Type"
            }
          },
          {
            "name": "skip",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Skip"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 100,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/InventoryChangeResponse"
                  },
                  "title": "Response List Inventory Changes Api V1 Assets Inventory Changes Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/assets/borrows": {
      "get": {
        "tags": [
          "Assets & Inventory"
        ],
        "summary": "List Borrows",
        "description": "List all distribution records with optional filters.",
        "operationId": "list_borrows_api_v1_assets_borrows_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "product_id",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "title": "Product Id"
            }
          },
          {
            "name": "driver_id",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "title": "Driver Id"
            }
          },
          {
            "name": "skip",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Skip"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 100,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ProductBorrowResponse"
                  },
                  "title": "Response List Borrows Api V1 Assets Borrows Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Assets & Inventory"
        ],
        "summary": "Create Borrow",
        "description": "Create distribution record (distribute product to driver or internal use).\n\n- driver_id is optional: can be internal use without specific driver\n- Automatically records operator information (current user)\n- Reduces available stock (no return tracking)",
        "operationId": "create_borrow_api_v1_assets_borrows_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ProductBorrowCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProductBorrowResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/assets/borrows/{borrow_id}": {
      "get": {
        "tags": [
          "Assets & Inventory"
        ],
        "summary": "Get Borrow",
        "description": "Get distribution record by ID.",
        "operationId": "get_borrow_api_v1_assets_borrows__borrow_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "borrow_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Borrow Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ProductBorrowResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/assets/products/{product_id}/borrows": {
      "get": {
        "tags": [
          "Assets & Inventory"
        ],
        "summary": "List Product Borrows",
        "description": "List all distribution records for a specific product.",
        "operationId": "list_product_borrows_api_v1_assets_products__product_id__borrows_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "product_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Product Id"
            }
          },
          {
            "name": "skip",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Skip"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 100,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ProductBorrowResponse"
                  },
                  "title": "Response List Product Borrows Api V1 Assets Products  Product Id  Borrows Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/assets/drivers/{driver_id}/borrows": {
      "get": {
        "tags": [
          "Assets & Inventory"
        ],
        "summary": "List Driver Borrows",
        "description": "List all items distributed to a specific driver.",
        "operationId": "list_driver_borrows_api_v1_assets_drivers__driver_id__borrows_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "driver_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Driver Id"
            }
          },
          {
            "name": "skip",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Skip"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 100,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ProductBorrowResponse"
                  },
                  "title": "Response List Driver Borrows Api V1 Assets Drivers  Driver Id  Borrows Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/settings/config": {
      "get": {
        "tags": [
          "System Settings"
        ],
        "summary": "Get System Config",
        "description": "Get system config (visible to all users)\n\nReturns current values of all system config items:\n- admin_phone: [Deprecated] Admin reminder phone\n- contacts: System notification contact list\n- driver_file_reminder_days: Driver file expiry reminder period (10/15/30 days)\n- daily_sms_time: Driver daily confirmation SMS time (HH:MM format)\n- maintenance_booking_reminder_days: Maintenance booking reminder period (10/15/30 days)\n- next_maintenance_reminder_days: Next maintenance approaching reminder period (10/15/30 days)",
        "operationId": "get_system_config_api_v1_settings_config_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SystemConfigResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      },
      "put": {
        "tags": [
          "System Settings"
        ],
        "summary": "Update System Config",
        "description": "Update system config (batch update)\n\nCan update multiple config items at once, providing only fields to update.\n\n- admin_phone: Admin reminder phone (for receiving system notifications)\n- driver_file_reminder_days: Driver file expiry reminder period, suggested: 10, 15, 30 days\n- daily_sms_time: Daily driver confirmation SMS time (24-hour, e.g. \"08:00\")\n- next_day_sms_time: Next day schedule notification SMS time (24-hour, e.g. \"18:00\")\n- next_maintenance_reminder_days: Next maintenance approaching reminder period, suggested: 10, 15, 30 days",
        "operationId": "update_system_config_api_v1_settings_config_put",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SystemConfigUpdate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SystemConfigResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      },
      "post": {
        "tags": [
          "System Settings"
        ],
        "summary": "Create System Config",
        "description": "Create/Initialize system config\n\nInitial set up of system config, can provide all or partial config items.\nUnprovided items will use default values.\n\n- admin_phone: Admin reminder phone (for receiving system notifications)\n- driver_file_reminder_days: Driver file expiry reminder period, suggested: 10, 15, 30 days\n- daily_sms_time: Daily driver confirmation SMS time (24-hour, e.g. \"08:00\")\n- next_day_sms_time: Next day schedule notification SMS time (24-hour, e.g. \"18:00\")\n- next_maintenance_reminder_days: Next maintenance approaching reminder period, suggested: 10, 15, 30 days",
        "operationId": "create_system_config_api_v1_settings_config_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SystemConfigUpdate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SystemConfigResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/dashboard/stats": {
      "get": {
        "tags": [
          "Dashboard"
        ],
        "summary": "Get Dashboard Stats",
        "description": "Get dashboard statistics matching the UI layout.\n\nReturns:\n- Total Drivers (active count)\n- Total Vehicles (in use count)\n- Today's Schedules (active schedules)\n- Vehicles Need Attention (repair + unavailable)\n- Vehicle Status Overview (Available, Need Repair, Unavailable, In Use)\n- Driver Status Overview (Active, Inactive, Total)",
        "operationId": "get_dashboard_stats_api_v1_dashboard_stats_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/dashboard/alerts": {
      "get": {
        "tags": [
          "Dashboard"
        ],
        "summary": "Get Dashboard Alerts",
        "description": "Get dashboard alerts that need attention.",
        "operationId": "get_dashboard_alerts_api_v1_dashboard_alerts_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/supervise/employee": {
      "get": {
        "tags": [
          "Deputy Integration"
        ],
        "summary": "Get Deputy Employees",
        "description": "Get list of Deputy employees (including avatar etc.)\n\nReturns list of employees with following fields:\n- Id: Deputy Employee ID\n- DisplayName: Name\n- Email: Email\n- Mobile: Mobile Phone",
        "operationId": "get_deputy_employees_api_v1_supervise_employee_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "type": "object"
                  },
                  "type": "array",
                  "title": "Response Get Deputy Employees Api V1 Supervise Employee Get"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/supervise/employee/{employee_id}": {
      "get": {
        "tags": [
          "Deputy Integration"
        ],
        "summary": "Get Deputy Employee",
        "description": "Get single Deputy employee details\n\n- **employee_id**: Deputy Employee ID",
        "operationId": "get_deputy_employee_api_v1_supervise_employee__employee_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "employee_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Employee Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Get Deputy Employee Api V1 Supervise Employee  Employee Id  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/supervise/sync-employees": {
      "post": {
        "tags": [
          "Deputy Integration"
        ],
        "summary": "Sync Deputy Employees",
        "description": "Sync Deputy employees to system drivers table\n\nSyncs employee data from Deputy to local drivers table",
        "operationId": "sync_deputy_employees_api_v1_supervise_sync_employees_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Sync Deputy Employees Api V1 Supervise Sync Employees Post"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/supervise/rosters": {
      "get": {
        "tags": [
          "Deputy Integration"
        ],
        "summary": "Get Rosters",
        "description": "Get Deputy roster data for specified date range",
        "operationId": "get_rosters_api_v1_supervise_rosters_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "start_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Start Date"
            }
          },
          {
            "name": "end_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "End Date"
            }
          },
          {
            "name": "employee_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Employee Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Get Rosters Api V1 Supervise Rosters Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/supervise/rosters/preview": {
      "get": {
        "tags": [
          "Deputy Integration"
        ],
        "summary": "Preview Rosters",
        "description": "Preview Deputy rosters data (do not write to database)\n\n**Functionality**:\n- Fetch rosters from Deputy API for specified date\n- Match with local Driver in database (via deputy_id)\n- Show status for each roster (ready/exists/no_driver)\n- **Does NOT write to database**, **Does NOT show amazon_id**\n\n**Returns**:\n- Simplified roster list (driver name, time, status)\n- Count of syncable items",
        "operationId": "preview_rosters_api_v1_supervise_rosters_preview_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "query_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Query date (default today)",
              "title": "Query Date"
            },
            "description": "Query date (default today)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RosterPreviewResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/supervise/rosters/sync": {
      "post": {
        "tags": [
          "Deputy Integration"
        ],
        "summary": "Sync Rosters",
        "description": "Sync Deputy rosters to database\n\n**Functionality**:\n- Fetch rosters from Deputy API for specified date\n- Match with local Driver in database (via deputy_id)\n- **Fetch latest amazon_id from Driver table and sync to Schedule**\n- Create or update Schedule records\n- Return sync statistics and amazon_id info\n\n**Important**:\n- Automatically syncs amazon_id from Driver to Schedule\n- If Driver has amazon_id, Schedule will also be updated",
        "operationId": "sync_rosters_api_v1_supervise_rosters_sync_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "sync_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Sync date (default today)",
              "title": "Sync Date"
            },
            "description": "Sync date (default today)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RosterSyncResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/supervise/rosters/synced-drivers": {
      "get": {
        "tags": [
          "Deputy Integration"
        ],
        "summary": "Get Synced Deputy Drivers",
        "description": "Get the list of drivers involved in the last roster sync.\nReturns the driver details (id, name, deputy_id) corresponding to the IDs stored in RosterSyncState.\n\nNote: RosterSyncState is updated by both:\n- Manual sync via POST /rosters/sync\n- Scheduled task sync_today_rosters() at 06:00 daily",
        "operationId": "get_synced_deputy_drivers_api_v1_supervise_rosters_synced_drivers_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/SyncedDriver"
                  },
                  "type": "array",
                  "title": "Response Get Synced Deputy Drivers Api V1 Supervise Rosters Synced Drivers Get"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/files/upload": {
      "post": {
        "tags": [
          "File Management"
        ],
        "summary": "Upload File",
        "description": "Upload file to MinIO/Wasabi storage and save to database\n\n- **file**: File to upload\n- **folder**: Storage folder path (optional, default \"uploads\")\n\nReturns database record (including ID)",
        "operationId": "upload_file_api_v1_files_upload_post",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_upload_file_api_v1_files_upload_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FileRecordResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/files/delete/{file_id}": {
      "delete": {
        "tags": [
          "File Management"
        ],
        "summary": "Delete File",
        "description": "Delete file from MinIO/Wasabi and database\n\n- **file_id**: File record ID in database",
        "operationId": "delete_file_api_v1_files_delete__file_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "file_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "File Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/files/list": {
      "get": {
        "tags": [
          "File Management"
        ],
        "summary": "List Files",
        "description": "List all file records in the database\n\n- **folder**: Folder filter (optional, e.g., \"uploads\", \"drivers\")\n\nReturns list of file records (including ID)",
        "operationId": "list_files_api_v1_files_list_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "folder",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Folder"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/FileRecordResponse"
                  },
                  "title": "Response List Files Api V1 Files List Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/files/batch-upload": {
      "post": {
        "tags": [
          "File Management"
        ],
        "summary": "Batch Upload Files",
        "description": "Batch upload multiple files to MinIO/Wasabi storage and save to database\n\n- **files**: List of files to upload\n- **folder**: Storage folder path (optional, default \"uploads\")\n\nReturns database records for all uploaded files (including ID)",
        "operationId": "batch_upload_files_api_v1_files_batch_upload_post",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_batch_upload_files_api_v1_files_batch_upload_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/files/batch-delete": {
      "post": {
        "tags": [
          "File Management"
        ],
        "summary": "Batch Delete Files",
        "description": "Batch delete multiple files\n\n- **file_ids**: List of file record IDs to delete",
        "operationId": "batch_delete_files_api_v1_files_batch_delete_post",
        "requestBody": {
          "content": {
            "application/x-www-form-urlencoded": {
              "schema": {
                "$ref": "#/components/schemas/Body_batch_delete_files_api_v1_files_batch_delete_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/files/download/{file_id}": {
      "get": {
        "tags": [
          "File Management"
        ],
        "summary": "View File",
        "description": "Access file via backend proxy (with permission control, display in browser)\n\n- **file_id**: File record ID",
        "operationId": "view_file_api_v1_files_download__file_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "file_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "File Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/notifications/send": {
      "post": {
        "tags": [
          "Notifications (SMS & Email)"
        ],
        "summary": "Send Sms",
        "description": "Send SMS to a single recipient.\n\n**Permissions**: Requires authenticated user\n\n**Parameters**:\n- phone: Recipient phone number with country code (e.g., +61451728450)\n- message: SMS message content (max 1600 characters)\n\n**Returns**: Success status and provider information",
        "operationId": "send_sms_api_v1_notifications_send_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SendSMSRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SMSResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/notifications/send-bulk": {
      "post": {
        "tags": [
          "Notifications (SMS & Email)"
        ],
        "summary": "Send Bulk Sms",
        "description": "Send SMS to multiple recipients.\n\n**Permissions**: Requires authenticated user\n\n**Parameters**:\n- phones: List of recipient phone numbers with country codes\n- message: SMS message content (max 1600 characters)\n\n**Returns**: Statistics on sent/failed messages",
        "operationId": "send_bulk_sms_api_v1_notifications_send_bulk_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SendBulkSMSRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BulkSMSResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/notifications/sms/received": {
      "get": {
        "tags": [
          "Notifications (SMS & Email)"
        ],
        "summary": "Get Received Sms",
        "description": "Get received SMS messages from ClapSMS.\n\n**Permissions**: Requires authenticated user\n\n**Parameters**:\n- limit: Number of messages to retrieve per page (default: 10)\n- page: Page number (default: 1)\n\n**Returns**: List of received SMS messages with sender info and content\n\n**Note**: Only works with ClapSMS provider.",
        "operationId": "get_received_sms_api_v1_notifications_sms_received_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 10,
              "title": "Limit"
            }
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 1,
              "title": "Page"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/notifications/sms/status": {
      "get": {
        "tags": [
          "Notifications (SMS & Email)"
        ],
        "summary": "Get Sms Service Status",
        "description": "Get SMS service configuration status.\n\n**Permissions**: Requires authenticated user\n\n**Returns**: Current SMS provider and service status",
        "operationId": "get_sms_service_status_api_v1_notifications_sms_status_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/notifications/email/send": {
      "post": {
        "tags": [
          "Notifications (SMS & Email)"
        ],
        "summary": "Send Email",
        "description": "Send email to a single recipient.\n\n**Permissions**: Requires authenticated user\n\n**📧 IMPORTANT - Email Configuration Required:**\nTo enable email sending, you MUST configure SMTP settings in `.env` file:\n\n```env\n# Email Service (SMTP)\nSMTP_HOST=smtp.gmail.com           # CHANGE THIS to your SMTP server\nSMTP_PORT=587                      # CHANGE THIS if using different port (e.g., 465 for SSL)\nSMTP_USER=your-email@gmail.com     # CHANGE THIS to your email address\nSMTP_PASSWORD=your-app-password    # CHANGE THIS to your email password or app password\nSMTP_FROM=noreply@dspsystem.com    # CHANGE THIS to your sender email\n```\n\n**For Gmail:**\n1. Enable 2FA on your Google account\n2. Generate App Password: https://myaccount.google.com/apppasswords\n3. Use the 16-character app password as SMTP_PASSWORD\n\n**For other providers:**\n- Outlook/Office365: smtp.office365.com:587\n- Yahoo: smtp.mail.yahoo.com:587\n- Custom SMTP: Contact your email provider\n\n**Parameters**:\n- to_email: Recipient email address\n- subject: Email subject line\n- body: Email content (plain text or HTML)\n- html: Set to true if body contains HTML\n- cc: Optional CC recipients\n- bcc: Optional BCC recipients\n\n**Returns**: Success status and message",
        "operationId": "send_email_api_v1_notifications_email_send_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SendEmailRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/EmailResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/notifications/email/send-bulk": {
      "post": {
        "tags": [
          "Notifications (SMS & Email)"
        ],
        "summary": "Send Bulk Email",
        "description": "Send email to multiple recipients.\n\n**Permissions**: Requires authenticated user\n\n**📧 SMTP Configuration Required** - See `/email/send` endpoint documentation for setup instructions.\n\n**Parameters**:\n- recipients: List of recipient email addresses\n- subject: Email subject line\n- body: Email content (plain text or HTML)\n- html: Set to true if body contains HTML\n\n**Returns**: Statistics on sent/failed emails",
        "operationId": "send_bulk_email_api_v1_notifications_email_send_bulk_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SendBulkEmailRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BulkEmailResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/notifications/email/status": {
      "get": {
        "tags": [
          "Notifications (SMS & Email)"
        ],
        "summary": "Get Email Service Status",
        "description": "Get email service configuration status.\n\n**Permissions**: Requires authenticated user\n\n**Returns**: Current email service status and configuration hints\n\n**If disabled, configure in .env:**\n```env\nSMTP_HOST=smtp.gmail.com\nSMTP_PORT=587\nSMTP_USER=your-email@gmail.com\nSMTP_PASSWORD=your-app-password\nSMTP_FROM=noreply@dspsystem.com\n```",
        "operationId": "get_email_service_status_api_v1_notifications_email_status_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/notifications/status": {
      "get": {
        "tags": [
          "Notifications (SMS & Email)"
        ],
        "summary": "Get All Notification Services Status",
        "description": "Get overall notification services status.\n\n**Permissions**: Requires authenticated user\n\n**Returns**: Status of all notification services (SMS + Email)",
        "operationId": "get_all_notification_services_status_api_v1_notifications_status_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/notifications/webhook/sms": {
      "post": {
        "tags": [
          "Notifications (SMS & Email)"
        ],
        "summary": "Receive Sms Webhook",
        "description": "Webhook endpoint for receiving SMS from ClapSMS.\n\n**IMPORTANT**: This endpoint does NOT require authentication as it's called by external service.\n\n**Setup Instructions**:\n1. Go to ClapSMS Dashboard: https://clapsms.com/dashboard/docs/webhooks\n2. Set webhook URL to: `https://your-ngrok-url.ngrok-free.dev/api/v1/notifications/webhook/sms`\n3. ClapSMS will POST form data to this endpoint when messages are received\n\n**Expected Payload** (from ClapSMS - Form Data):\n```\ndata[device]=f82b651a26ab99bc\ndata[id]=35\ndata[message]=Hello\ndata[phone]=+61451728450\ndata[timestamp]=1767132162\nsecret=your_api_secret\ntype=sms\n```\n\n**Returns**: Success acknowledgment",
        "operationId": "receive_sms_webhook_api_v1_notifications_webhook_sms_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/v1/notifications/sms/inbox": {
      "get": {
        "tags": [
          "Notifications (SMS & Email)"
        ],
        "summary": "Get Sms Inbox",
        "description": "Get received SMS messages from database (stored via webhook).\n\n**Permissions**: Requires authenticated user\n\n**Parameters**:\n- limit: Maximum number of messages to return (default: 50, max: 200)\n- offset: Number of messages to skip (for pagination)\n- unprocessed_only: If true, only return unprocessed messages\n\n**Returns**: List of received SMS messages with metadata",
        "operationId": "get_sms_inbox_api_v1_notifications_sms_inbox_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 50,
              "title": "Limit"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Offset"
            }
          },
          {
            "name": "unprocessed_only",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "default": false,
              "title": "Unprocessed Only"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ReceivedSMSListResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/notifications/sms/inbox/{sms_id}/mark-processed": {
      "put": {
        "tags": [
          "Notifications (SMS & Email)"
        ],
        "summary": "Mark Sms Processed",
        "description": "Mark a received SMS as processed.\n\n**Permissions**: Requires authenticated user\n\n**Parameters**:\n- sms_id: ID of the received SMS message\n\n**Returns**: Updated SMS record",
        "operationId": "mark_sms_processed_api_v1_notifications_sms_inbox__sms_id__mark_processed_put",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "sms_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Sms Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ReceivedSMSResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/notifications/sms/inbox/{sms_id}/process-confirmation": {
      "post": {
        "tags": [
          "Notifications (SMS & Email)"
        ],
        "summary": "Process Confirmation Manually",
        "description": "Manually process a received SMS as driver confirmation (Y/N).\n\n**Permissions**: Requires authenticated user\n\n**Parameters**:\n- sms_id: ID of the received SMS message\n\n**Workflow**:\n1. Retrieves the SMS from database\n2. Attempts to match phone number to a driver\n3. Finds today's schedule for the driver\n4. Updates schedule confirmation status based on message (Y=CONFIRMED, N=REJECTED)\n\n**Returns**: Processing result with schedule update details",
        "operationId": "process_confirmation_manually_api_v1_notifications_sms_inbox__sms_id__process_confirmation_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "sms_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Sms Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/inspections/": {
      "get": {
        "tags": [
          "Inspection Management"
        ],
        "summary": "List Inspections",
        "description": "Get inspection list (supports multiple filters)\n\n**Core Functionality**:\n- View all inspections for a specific day by date\n- View inspection history by vehicle\n- View inspection history by driver\n- Filter by status (pending review, passed, failed)\n- Date range query\n\n**Examples**:\n- View all inspections for a specific day: `?inspection_date=2026-01-04`\n- View all inspections for a vehicle: `?vehicle_id=1`\n- View inspections needing repair: `?condition=need-repair&reviewed=false`\n- Date range: `?start_date=2026-01-01&end_date=2026-01-31`",
        "operationId": "list_inspections_api_v1_inspections__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "inspection_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by date (view all inspections for a specific day)",
              "title": "Inspection Date"
            },
            "description": "Filter by date (view all inspections for a specific day)"
          },
          {
            "name": "vehicle_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by vehicle",
              "title": "Vehicle Id"
            },
            "description": "Filter by vehicle"
          },
          {
            "name": "driver_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by driver",
              "title": "Driver Id"
            },
            "description": "Filter by driver"
          },
          {
            "name": "condition",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "pattern": "^(available|need-repair|unavailable)$"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by condition (available/need-repair/unavailable)",
              "title": "Condition"
            },
            "description": "Filter by condition (available/need-repair/unavailable)"
          },
          {
            "name": "reviewed",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by review status",
              "title": "Reviewed"
            },
            "description": "Filter by review status"
          },
          {
            "name": "start_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Start date (date range query)",
              "title": "Start Date"
            },
            "description": "Start date (date range query)"
          },
          {
            "name": "end_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date"
                },
                {
                  "type": "null"
                }
              ],
              "description": "End date (date range query)",
              "title": "End Date"
            },
            "description": "End date (date range query)"
          },
          {
            "name": "skip",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0,
              "title": "Skip"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 500,
              "minimum": 1,
              "default": 100,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/VehicleInspectionResponse"
                  },
                  "title": "Response List Inspections Api V1 Inspections  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/inspections/stats": {
      "get": {
        "tags": [
          "Inspection Management"
        ],
        "summary": "Get Inspection Stats",
        "description": "Get inspection statistics\n\n**Returns**:\n- total: Total count\n- available: Available count\n- need-repair: Need repair count\n- unavailable: Unavailable count\n- reviewed_count: Reviewed total count\n\n**Examples**:\n- View stats for a specific day: `?inspection_date=2026-01-04`\n- View stats for a specific vehicle: `?vehicle_id=1`\n- Date range stats: `?start_date=2026-01-01&end_date=2026-01-31`",
        "operationId": "get_inspection_stats_api_v1_inspections_stats_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "inspection_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date"
                },
                {
                  "type": "null"
                }
              ],
              "description": "View stats for a specific day",
              "title": "Inspection Date"
            },
            "description": "View stats for a specific day"
          },
          {
            "name": "vehicle_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "View stats for a specific vehicle",
              "title": "Vehicle Id"
            },
            "description": "View stats for a specific vehicle"
          },
          {
            "name": "driver_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "integer"
                },
                {
                  "type": "null"
                }
              ],
              "description": "View stats for a specific driver",
              "title": "Driver Id"
            },
            "description": "View stats for a specific driver"
          },
          {
            "name": "start_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Stats range start date",
              "title": "Start Date"
            },
            "description": "Stats range start date"
          },
          {
            "name": "end_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Stats range end date",
              "title": "End Date"
            },
            "description": "Stats range end date"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/inspections/{inspection_id}": {
      "get": {
        "tags": [
          "Inspection Management"
        ],
        "summary": "Get Inspection Detail",
        "description": "Get single inspection details (flattened structure + simplified previous inspection)\n\n**Returns complete information**:\n- All fields of current inspection (including driver_name)\n- previous: Simplified information of previous inspection (only date, mileage, photos, driver name)",
        "operationId": "get_inspection_detail_api_v1_inspections__inspection_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "inspection_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Inspection Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VehicleInspectionDetailResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/inspections/{inspection_id}/review": {
      "post": {
        "tags": [
          "Inspection Management"
        ],
        "summary": "Review Inspection",
        "description": "Review inspection (Admin)\n\n**Functionality**:\n- Set vehicle status (available/need-repair/unavailable)\n- Add admin notes\n- Update mileage (optional, independent of review status)\n- Mark as reviewed\n- Automatically set vehicle status to not-in-use (end of day use)\n\n**Important**:\n- Mileage can be updated under any review status\n- Mileage update is independent of review result\n- Vehicle automatically becomes not-in-use after review",
        "operationId": "review_inspection_api_v1_inspections__inspection_id__review_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "inspection_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Inspection Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/VehicleInspectionReview"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/VehicleInspectionResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/inspections/batch-review": {
      "post": {
        "tags": [
          "Inspection Management"
        ],
        "summary": "Batch Review Inspections",
        "description": "Batch review inspections\n\n**Functionality**:\n- Batch set status for multiple inspections\n- Batch add admin notes\n- Automatically set all vehicle statuses to not-in-use (end of day use)\n\n**Example**:\n```\nPOST /api/v1/inspections/batch-review?inspection_ids=1&inspection_ids=2&inspection_ids=3&condition=available&admin_notes=All good\n```",
        "operationId": "batch_review_inspections_api_v1_inspections_batch_review_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "inspection_ids",
            "in": "query",
            "required": true,
            "schema": {
              "type": "array",
              "items": {
                "type": "integer"
              },
              "description": "List of Inspection IDs",
              "title": "Inspection Ids"
            },
            "description": "List of Inspection IDs"
          },
          {
            "name": "condition",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "pattern": "^(available|need-repair|unavailable)$",
              "description": "Batch set status (available/need-repair/unavailable)",
              "title": "Condition"
            },
            "description": "Batch set status (available/need-repair/unavailable)"
          },
          {
            "name": "admin_notes",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Batch add admin notes",
              "title": "Admin Notes"
            },
            "description": "Batch add admin notes"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/inspections/by-date/{inspection_date}": {
      "get": {
        "tags": [
          "Inspection Management"
        ],
        "summary": "Get Inspections By Date",
        "description": "Get all inspections for a specific day (with full photo URLs)\n\n**Optimized endpoint**:\n- Quickly view all inspections for a specific day\n- Includes full photo URLs\n- Includes mileage data",
        "operationId": "get_inspections_by_date_api_v1_inspections_by_date__inspection_date__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "inspection_date",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "format": "date",
              "title": "Inspection Date"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/VehicleInspectionPhotoResponse"
                  },
                  "title": "Response Get Inspections By Date Api V1 Inspections By Date  Inspection Date  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/inspections/by-vehicle/{vehicle_id}": {
      "get": {
        "tags": [
          "Inspection Management"
        ],
        "summary": "Get Inspections By Vehicle",
        "description": "Get all inspection history for a vehicle (with full photo URLs)\n\n**Optimized endpoint**:\n- View vehicle inspection history\n- Supports date range filtering\n- Includes mileage trend data",
        "operationId": "get_inspections_by_vehicle_api_v1_inspections_by_vehicle__vehicle_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "vehicle_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Vehicle Id"
            }
          },
          {
            "name": "start_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Start Date",
              "title": "Start Date"
            },
            "description": "Start Date"
          },
          {
            "name": "end_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date"
                },
                {
                  "type": "null"
                }
              ],
              "description": "End Date",
              "title": "End Date"
            },
            "description": "End Date"
          },
          {
            "name": "skip",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0,
              "title": "Skip"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 200,
              "minimum": 1,
              "default": 50,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/VehicleInspectionPhotoResponse"
                  },
                  "title": "Response Get Inspections By Vehicle Api V1 Inspections By Vehicle  Vehicle Id  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/tasks/send-schedule-reminders": {
      "post": {
        "tags": [
          "Manual Tasks"
        ],
        "summary": "Manual Send Schedule Reminders",
        "description": "Manual Trigger: Send Schedule Reminder SMS (1st SMS)\n\n**Auto Execution Time**: Daily 04:00 AM\n\n**Functionality**:\n- Find all schedules for the specified date (that haven't sent reminders yet)\n- Send simple reminder SMS: \"You have a shift for [date]\"\n- Does NOT include route and vehicle info\n- Sets reminder_sms_sent = True\n\n**SMS Content**: \"Hi {name}, you have a shift scheduled for {date}, Please reply Y to confirm.\"\n\n**Returns**: Sending statistics (sent, failed, skipped)",
        "operationId": "manual_send_schedule_reminders_api_v1_tasks_send_schedule_reminders_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "target_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string",
                  "format": "date"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Target date (default today)",
              "title": "Target Date"
            },
            "description": "Target date (default today)"
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Manual Send Schedule Reminders Api V1 Tasks Send Schedule Reminders Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/tasks/check-document-expiry": {
      "post": {
        "tags": [
          "Manual Tasks"
        ],
        "summary": "Manual Check Document Expiry",
        "description": "Manual Trigger: Check Driver Document Expiry\n\n**Auto Execution Time**: Daily 09:00 AM\n\n**Functionality**:\n- Check license and visa expiry dates for all drivers\n- If within reminder period (default 15 days) and not reminded, send SMS to admin\n- Sets license_reminder_sent / visa_reminder_sent = True\n\n**Reminder Scope**: today ≤ expiry_date ≤ today + 15 days\n\n**Returns**: Reminder statistics (license_alerts, visa_alerts)",
        "operationId": "manual_check_document_expiry_api_v1_tasks_check_document_expiry_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Manual Check Document Expiry Api V1 Tasks Check Document Expiry Post"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/tasks/check-vehicle-maintenance": {
      "post": {
        "tags": [
          "Manual Tasks"
        ],
        "summary": "Manual Check Vehicle Maintenance",
        "description": "Manual Trigger: Check Vehicle Maintenance Due\n\n**Auto Execution Time**: Daily 10:00 AM\n\n**Functionality**:\n- Find vehicles needing maintenance today (next_maintenance_date == today)\n- Send email to Workshop\n- Send SMS to admin\n\n**Important**: Checks ONLY vehicles due today, does not send in advance\n\n**Returns**: Maintenance reminder statistics (emails_sent, sms_sent)",
        "operationId": "manual_check_vehicle_maintenance_api_v1_tasks_check_vehicle_maintenance_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Manual Check Vehicle Maintenance Api V1 Tasks Check Vehicle Maintenance Post"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/tasks/check-low-stock": {
      "post": {
        "tags": [
          "Manual Tasks"
        ],
        "summary": "Manual Check Low Stock",
        "description": "Manual Trigger: Check Low Stock Products\n\n**Auto Execution Time**: Daily 11:00 AM\n\n**Functionality**:\n- Find products with stock below threshold (available_stock \u003C= min_stock_threshold)\n- Send SMS to admin (Manual trigger does NOT check if alert already sent)\n- Note: Manual trigger does NOT set low_stock_alert_sent flag\n\n**Returns**: Low stock alert statistics (alerts_sent)",
        "operationId": "manual_check_low_stock_api_v1_tasks_check_low_stock_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Manual Check Low Stock Api V1 Tasks Check Low Stock Post"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/tasks/reset-vehicle-status": {
      "post": {
        "tags": [
          "Manual Tasks"
        ],
        "summary": "Manual Reset Vehicle Status",
        "description": "Manual Trigger: Reset all vehicle status to not-in-use\n\n**Auto Execution Time**: Daily 00:00 AM (Midnight)\n\n**Functionality**:\n- Reset status of all vehicles to \"not-in-use\"\n- Usually executed at start of day\n\n**Returns**: Reset statistics (vehicles_reset)",
        "operationId": "manual_reset_vehicle_status_api_v1_tasks_reset_vehicle_status_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Manual Reset Vehicle Status Api V1 Tasks Reset Vehicle Status Post"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/tasks/resend-confirmation-sms/{schedule_id}": {
      "post": {
        "tags": [
          "Manual Tasks"
        ],
        "summary": "Resend Confirmation Sms",
        "description": "Resend Confirmation SMS to Driver\n\n**Use Cases**:\n- Retry after SMS failure\n- Driver claims not received\n- Schedule updated and needs re-notification\n\n**Prerequisites**:\n- Schedule must be CONFIRMED\n- Schedule must be assigned: amazon_id, route, vehicle_rego\n- Driver must have phone number\n\n**SMS Content**:\n```\nHi {name}, your schedule confirmed!\nDate: {date}\nRoute: {route}\nVehicle: {vehicle_rego}\nTime: {start_time} - {end_time}\n```",
        "operationId": "resend_confirmation_sms_api_v1_tasks_resend_confirmation_sms__schedule_id__post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "schedule_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Schedule Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Resend Confirmation Sms Api V1 Tasks Resend Confirmation Sms  Schedule Id  Post"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/tasks/run-all-tasks": {
      "post": {
        "tags": [
          "Manual Tasks"
        ],
        "summary": "Manual Run All Tasks",
        "description": "Manual Trigger: Run all automated tasks (Sequentially)\n\n**Execution Order**:\n1. Send Schedule Reminders (04:00)\n2. Check Document Expiry (09:00)\n3. Check Vehicle Maintenance (10:00)\n4. Check Low Stock (11:00)\n\n**Note**:\n- Does NOT include schedule sync (Use POST /api/v1/schedules/sync-today)\n- Does NOT include vehicle status reset (Usually executed at midnight)\n\n**Returns**: Results of all tasks",
        "operationId": "manual_run_all_tasks_api_v1_tasks_run_all_tasks_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "title": "Response Manual Run All Tasks Api V1 Tasks Run All Tasks Post"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/repair-suppliers/": {
      "post": {
        "tags": [
          "Repair Suppliers"
        ],
        "summary": "Create Repair Supplier",
        "description": "Create new repair supplier",
        "operationId": "create_repair_supplier_api_v1_repair_suppliers__post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RepairSupplierCreate"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RepairSupplierResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "get": {
        "tags": [
          "Repair Suppliers"
        ],
        "summary": "List Repair Suppliers",
        "description": "Get list of all repair suppliers",
        "operationId": "list_repair_suppliers_api_v1_repair_suppliers__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "is_active",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "boolean"
                },
                {
                  "type": "null"
                }
              ],
              "description": "Filter by active status",
              "title": "Is Active"
            },
            "description": "Filter by active status"
          },
          {
            "name": "skip",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 0,
              "default": 0,
              "title": "Skip"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "default": 100,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/RepairSupplierResponse"
                  },
                  "title": "Response List Repair Suppliers Api V1 Repair Suppliers  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/repair-suppliers/{supplier_id}": {
      "get": {
        "tags": [
          "Repair Suppliers"
        ],
        "summary": "Get Repair Supplier",
        "description": "Get details of a specific repair supplier",
        "operationId": "get_repair_supplier_api_v1_repair_suppliers__supplier_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "supplier_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Supplier Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RepairSupplierResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Repair Suppliers"
        ],
        "summary": "Update Repair Supplier",
        "description": "Update repair supplier information",
        "operationId": "update_repair_supplier_api_v1_repair_suppliers__supplier_id__put",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "supplier_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Supplier Id"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RepairSupplierUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RepairSupplierResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Repair Suppliers"
        ],
        "summary": "Delete Repair Supplier",
        "description": "Delete repair supplier",
        "operationId": "delete_repair_supplier_api_v1_repair_suppliers__supplier_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "supplier_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Supplier Id"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Successful Response"
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/message-templates/": {
      "get": {
        "tags": [
          "Message Templates"
        ],
        "summary": "Read Message Templates",
        "description": "Retrieve message templates with default values.",
        "operationId": "read_message_templates_api_v1_message_templates__get",
        "parameters": [
          {
            "name": "skip",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Skip"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 100,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/MessageTemplateResponse"
                  },
                  "title": "Response Read Message Templates Api V1 Message Templates  Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/message-templates/{template_key}": {
      "get": {
        "tags": [
          "Message Templates"
        ],
        "summary": "Read Message Template",
        "description": "Get a specific message template by key with default values.",
        "operationId": "read_message_template_api_v1_message_templates__template_key__get",
        "parameters": [
          {
            "name": "template_key",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Template Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MessageTemplateResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Message Templates"
        ],
        "summary": "Update Message Template",
        "description": "Update a message template.",
        "operationId": "update_message_template_api_v1_message_templates__template_key__put",
        "parameters": [
          {
            "name": "template_key",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Template Key"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/MessageTemplateUpdate"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MessageTemplateResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/message-templates/reset/{template_key}": {
      "post": {
        "tags": [
          "Message Templates"
        ],
        "summary": "Reset Message Template",
        "description": "Reset a message template to its default value.",
        "operationId": "reset_message_template_api_v1_message_templates_reset__template_key__post",
        "parameters": [
          {
            "name": "template_key",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Template Key"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MessageTemplateResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/kpi/generate": {
      "post": {
        "tags": [
          "KPI"
        ],
        "summary": "生成KPI报告",
        "description": "上传PDF和CSV文件,生成KPI报告\n\n- **pdf_file**: PDF文件(DSP WEEKLY SUMMARY)\n- **csv_file**: CSV文件(Driver Report)\n- **week**: 周数\n- **year**: 年份\n- **min_delivered**: 最小配送量,低于此数量不参与排名\n- **dnr_threshold**: DNR阈值(DPMO)\n- **weight_***: 各项权重,总和必须为1.0",
        "operationId": "generate_kpi_report_api_v1_kpi_generate_post",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_generate_kpi_report_api_v1_kpi_generate_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/KPIReportDetailResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/kpi/reports": {
      "get": {
        "tags": [
          "KPI"
        ],
        "summary": "获取KPI报告列表",
        "description": "获取所有KPI报告列表",
        "operationId": "get_kpi_reports_api_v1_kpi_reports_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "skip",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 0,
              "title": "Skip"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 100,
              "title": "Limit"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/KPIReportResponse"
                  },
                  "title": "Response Get Kpi Reports Api V1 Kpi Reports Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/kpi/reports/{report_id}": {
      "get": {
        "tags": [
          "KPI"
        ],
        "summary": "获取KPI报告详情",
        "description": "获取指定KPI报告的详细信息,包含所有司机KPI数据",
        "operationId": "get_kpi_report_api_v1_kpi_reports__report_id__get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "report_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Report Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/KPIReportDetailResponse"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "KPI"
        ],
        "summary": "删除KPI报告",
        "description": "删除指定的KPI报告及其所有司机KPI数据",
        "operationId": "delete_kpi_report_api_v1_kpi_reports__report_id__delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "report_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "integer",
              "title": "Report Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/HTTPValidationError"
                }
              }
            }
          }
        }
      }
    },
    "/": {
      "get": {
        "summary": "Root",
        "description": "Root endpoint.",
        "operationId": "root__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "BatchConfirmFailedItem": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id",
            "description": "Schedule ID"
          },
          "error": {
            "type": "string",
            "title": "Error",
            "description": "Error message describing why confirmation failed"
          }
        },
        "type": "object",
        "required": [
          "id",
          "error"
        ],
        "title": "BatchConfirmFailedItem",
        "description": "Failed item in batch confirm response."
      },
      "BatchConfirmRequest": {
        "properties": {
          "schedule_ids": {
            "items": {
              "type": "integer"
            },
            "type": "array",
            "minItems": 1,
            "title": "Schedule Ids",
            "description": "List of schedule IDs to confirm.",
            "example": [
              1,
              2,
              3,
              4,
              5
            ]
          }
        },
        "type": "object",
        "required": [
          "schedule_ids"
        ],
        "title": "BatchConfirmRequest",
        "description": "Request schema for batch confirming schedules."
      },
      "BatchConfirmResponse": {
        "properties": {
          "total_requested": {
            "type": "integer",
            "title": "Total Requested",
            "description": "Total number of schedules requested to confirm"
          },
          "total_success": {
            "type": "integer",
            "title": "Total Success",
            "description": "Number of successfully confirmed schedules"
          },
          "total_failed": {
            "type": "integer",
            "title": "Total Failed",
            "description": "Number of failed confirmations"
          },
          "success": {
            "items": {
              "$ref": "#/components/schemas/BatchConfirmSuccessItem"
            },
            "type": "array",
            "title": "Success",
            "description": "List of successfully confirmed schedules"
          },
          "failed": {
            "items": {
              "$ref": "#/components/schemas/BatchConfirmFailedItem"
            },
            "type": "array",
            "title": "Failed",
            "description": "List of failed confirmations with error details"
          }
        },
        "type": "object",
        "required": [
          "total_requested",
          "total_success",
          "total_failed"
        ],
        "title": "BatchConfirmResponse",
        "description": "Response schema for batch confirm operation."
      },
      "BatchConfirmSuccessItem": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id",
            "description": "Schedule ID"
          },
          "driver_name": {
            "type": "string",
            "title": "Driver Name",
            "description": "Driver name"
          },
          "route": {
            "type": "string",
            "title": "Route",
            "description": "Route code"
          },
          "vehicle_rego": {
            "type": "string",
            "title": "Vehicle Rego",
            "description": "Vehicle registration"
          },
          "sms_sent": {
            "type": "boolean",
            "title": "Sms Sent",
            "description": "Whether SMS was sent successfully"
          }
        },
        "type": "object",
        "required": [
          "id",
          "driver_name",
          "route",
          "vehicle_rego",
          "sms_sent"
        ],
        "title": "BatchConfirmSuccessItem",
        "description": "Success item in batch confirm response."
      },
      "Body_batch_delete_files_api_v1_files_batch_delete_post": {
        "properties": {
          "file_ids": {
            "items": {
              "type": "integer"
            },
            "type": "array",
            "title": "File Ids"
          }
        },
        "type": "object",
        "required": [
          "file_ids"
        ],
        "title": "Body_batch_delete_files_api_v1_files_batch_delete_post"
      },
      "Body_batch_upload_files_api_v1_files_batch_upload_post": {
        "properties": {
          "files": {
            "items": {
              "type": "string",
              "format": "binary"
            },
            "type": "array",
            "title": "Files"
          },
          "folder": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Folder",
            "default": "uploads"
          }
        },
        "type": "object",
        "required": [
          "files"
        ],
        "title": "Body_batch_upload_files_api_v1_files_batch_upload_post"
      },
      "Body_generate_kpi_report_api_v1_kpi_generate_post": {
        "properties": {
          "pdf_file": {
            "type": "string",
            "format": "binary",
            "title": "Pdf File",
            "description": "PDF文件"
          },
          "csv_file": {
            "type": "string",
            "format": "binary",
            "title": "Csv File",
            "description": "CSV文件"
          },
          "week": {
            "type": "string",
            "title": "Week",
            "description": "周数,如'Week 3'"
          },
          "year": {
            "type": "integer",
            "title": "Year",
            "description": "年份",
            "default": 2026
          },
          "min_delivered": {
            "type": "integer",
            "title": "Min Delivered",
            "description": "最小配送量",
            "default": 430
          },
          "dnr_threshold": {
            "type": "integer",
            "title": "Dnr Threshold",
            "description": "DNR阈值",
            "default": 8000
          },
          "weight_dnr": {
            "type": "number",
            "title": "Weight Dnr",
            "description": "DNR权重",
            "default": 0.4
          },
          "weight_dcr": {
            "type": "number",
            "title": "Weight Dcr",
            "description": "DCR权重",
            "default": 0.2
          },
          "weight_pod": {
            "type": "number",
            "title": "Weight Pod",
            "description": "POD权重",
            "default": 0.05
          },
          "weight_cc": {
            "type": "number",
            "title": "Weight Cc",
            "description": "CC权重",
            "default": 0.05
          },
          "weight_netradyne": {
            "type": "number",
            "title": "Weight Netradyne",
            "description": "Netradyne权重",
            "default": 0.3
          }
        },
        "type": "object",
        "required": [
          "pdf_file",
          "csv_file",
          "week"
        ],
        "title": "Body_generate_kpi_report_api_v1_kpi_generate_post"
      },
      "Body_import_amazon_ids_api_v1_drivers_import_amazon_ids_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File"
          }
        },
        "type": "object",
        "required": [
          "file"
        ],
        "title": "Body_import_amazon_ids_api_v1_drivers_import_amazon_ids_post"
      },
      "Body_import_routes_api_v1_schedules_import_routes_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File"
          }
        },
        "type": "object",
        "required": [
          "file"
        ],
        "title": "Body_import_routes_api_v1_schedules_import_routes_post"
      },
      "Body_update_driver_api_v1_drivers__driver_id__put": {
        "properties": {
          "deputy_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Deputy Id"
          },
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "phone": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Phone"
          },
          "email": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Email"
          },
          "address": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Address"
          },
          "amazon_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Amazon Id"
          },
          "is_active": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Active"
          },
          "license_file_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "License File Url"
          },
          "license_number": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "License Number"
          },
          "license_expiry_date": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "License Expiry Date"
          },
          "license_files": {
            "anyOf": [
              {
                "items": {
                  "type": "string",
                  "format": "binary"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "License Files"
          },
          "visa_file_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Visa File Url"
          },
          "visa_number": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Visa Number"
          },
          "visa_expiry_date": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Visa Expiry Date"
          },
          "visa_files": {
            "anyOf": [
              {
                "items": {
                  "type": "string",
                  "format": "binary"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Visa Files"
          }
        },
        "type": "object",
        "title": "Body_update_driver_api_v1_drivers__driver_id__put"
      },
      "Body_upload_file_api_v1_files_upload_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File"
          },
          "folder": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Folder",
            "default": "uploads"
          }
        },
        "type": "object",
        "required": [
          "file"
        ],
        "title": "Body_upload_file_api_v1_files_upload_post"
      },
      "BulkEmailResponse": {
        "properties": {
          "total": {
            "type": "integer",
            "title": "Total"
          },
          "sent": {
            "type": "integer",
            "title": "Sent"
          },
          "failed": {
            "type": "integer",
            "title": "Failed"
          }
        },
        "type": "object",
        "required": [
          "total",
          "sent",
          "failed"
        ],
        "title": "BulkEmailResponse",
        "description": "Response model for bulk email operations."
      },
      "BulkSMSResponse": {
        "properties": {
          "total": {
            "type": "integer",
            "title": "Total"
          },
          "sent": {
            "type": "integer",
            "title": "Sent"
          },
          "failed": {
            "type": "integer",
            "title": "Failed"
          },
          "provider": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Provider"
          }
        },
        "type": "object",
        "required": [
          "total",
          "sent",
          "failed"
        ],
        "title": "BulkSMSResponse",
        "description": "Response model for bulk SMS operations."
      },
      "CheckinStatus-Output": {
        "type": "string",
        "enum": [
          "not_checked_in",
          "checked_in"
        ],
        "title": "CheckinStatus",
        "description": "Driver check-in status."
      },
      "CreatedScheduleInfo": {
        "properties": {
          "schedule_id": {
            "type": "integer",
            "title": "Schedule Id",
            "description": "New Schedule ID",
            "example": 99
          },
          "route_code": {
            "type": "string",
            "title": "Route Code",
            "description": "Route code",
            "example": "CX203"
          },
          "schedule_date": {
            "type": "string",
            "title": "Schedule Date",
            "description": "Date",
            "example": "2025-12-26"
          }
        },
        "type": "object",
        "required": [
          "schedule_id",
          "route_code",
          "schedule_date"
        ],
        "title": "CreatedScheduleInfo",
        "description": "Information about a newly created schedule from route import."
      },
      "DriverAssetHistory": {
        "properties": {
          "product_name": {
            "type": "string",
            "title": "Product Name"
          },
          "quantity": {
            "type": "integer",
            "title": "Quantity"
          },
          "borrow_date": {
            "type": "string",
            "format": "date",
            "title": "Borrow Date"
          }
        },
        "type": "object",
        "required": [
          "product_name",
          "quantity",
          "borrow_date"
        ],
        "title": "DriverAssetHistory",
        "description": "Schema for driver asset borrowing history."
      },
      "DriverCreate": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Name",
            "description": "Driver name (required)"
          },
          "amazon_id": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Amazon Id",
            "description": "Amazon ID (optional)"
          },
          "password": {
            "anyOf": [
              {
                "type": "string",
                "minLength": 6
              },
              {
                "type": "null"
              }
            ],
            "title": "Password",
            "description": "Login password (optional, min 6 characters if provided)"
          },
          "phone": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 20
              },
              {
                "type": "null"
              }
            ],
            "title": "Phone"
          },
          "email": {
            "anyOf": [
              {
                "type": "string",
                "format": "email"
              },
              {
                "type": "null"
              }
            ],
            "title": "Email"
          },
          "address": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Address"
          },
          "deputy_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Deputy Id"
          }
        },
        "type": "object",
        "required": [
          "name"
        ],
        "title": "DriverCreate",
        "description": "Schema for creating a driver - only name is required, credentials are optional."
      },
      "DriverForgotPasswordRequest": {
        "properties": {
          "phone": {
            "type": "string",
            "title": "Phone",
            "description": "Driver phone number"
          }
        },
        "type": "object",
        "required": [
          "phone"
        ],
        "title": "DriverForgotPasswordRequest",
        "description": "Schema for driver forgot password code request."
      },
      "DriverForgotPasswordReset": {
        "properties": {
          "phone": {
            "type": "string",
            "title": "Phone",
            "description": "Driver phone number"
          },
          "code": {
            "type": "string",
            "maxLength": 6,
            "minLength": 6,
            "title": "Code",
            "description": "6-digit verification code"
          },
          "new_password": {
            "type": "string",
            "minLength": 6,
            "title": "New Password",
            "description": "New password"
          }
        },
        "type": "object",
        "required": [
          "phone",
          "code",
          "new_password"
        ],
        "title": "DriverForgotPasswordReset",
        "description": "Schema for driver forgot password reset."
      },
      "DriverInSchedule": {
        "properties": {
          "id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Id",
            "description": "Driver ID (integer). Primary key from drivers table.",
            "example": 15
          },
          "deputy_id": {
            "type": "string",
            "title": "Deputy Id",
            "description": "Deputy employee ID (string). Links to driver record.",
            "example": "54"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Driver full name.",
            "example": "Fiona ZHANG"
          },
          "amazon_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Amazon Id",
            "description": "Amazon employee ID (string, optional).",
            "example": "AMZ-12345"
          },
          "phone": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Phone",
            "description": "Driver phone number.",
            "example": "+61452480422"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "description": "Driver active status.",
            "example": true
          },
          "has_password": {
            "type": "boolean",
            "title": "Has Password",
            "description": "Whether driver has set a password for driver app login.",
            "example": true
          }
        },
        "type": "object",
        "required": [
          "deputy_id",
          "name",
          "is_active",
          "has_password"
        ],
        "title": "DriverInSchedule",
        "description": "Nested driver information in schedule response."
      },
      "DriverInspectionCreate": {
        "properties": {
          "vehicle_id": {
            "type": "integer",
            "title": "Vehicle Id"
          },
          "mileage_at_inspection": {
            "type": "integer",
            "title": "Mileage At Inspection",
            "description": "Vehicle mileage at time of inspection (required)"
          },
          "inspection_urls": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Inspection Urls",
            "description": "Array of inspection photo URLs from /api/v1/files/batch-upload"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes",
            "description": "Inspection notes"
          }
        },
        "type": "object",
        "required": [
          "vehicle_id",
          "mileage_at_inspection"
        ],
        "title": "DriverInspectionCreate",
        "description": "Schema for driver app to create inspection (driver_id and date auto-filled)."
      },
      "DriverInspectionUpdate": {
        "properties": {
          "mileage_at_inspection": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mileage At Inspection"
          },
          "inspection_urls": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Inspection Urls"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes"
          }
        },
        "type": "object",
        "title": "DriverInspectionUpdate",
        "description": "Schema for driver app to update inspection."
      },
      "DriverKPIResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "driver_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Driver Id"
          },
          "driver_name": {
            "type": "string",
            "title": "Driver Name"
          },
          "amazon_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Amazon Id"
          },
          "netradyne_score": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Netradyne Score"
          },
          "delivered": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Delivered"
          },
          "dcr": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Dcr"
          },
          "dnr_dpmo": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Dnr Dpmo"
          },
          "pod": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Pod"
          },
          "cc": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Cc"
          },
          "dnr_score": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Dnr Score"
          },
          "overall_score": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "Overall Score"
          },
          "rank": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Rank"
          },
          "is_matched": {
            "type": "boolean",
            "title": "Is Matched"
          },
          "csv_matched": {
            "type": "boolean",
            "title": "Csv Matched"
          },
          "pdf_matched": {
            "type": "boolean",
            "title": "Pdf Matched"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes"
          }
        },
        "type": "object",
        "required": [
          "id",
          "driver_id",
          "driver_name",
          "amazon_id",
          "netradyne_score",
          "delivered",
          "dcr",
          "dnr_dpmo",
          "pod",
          "cc",
          "dnr_score",
          "overall_score",
          "rank",
          "is_matched",
          "csv_matched",
          "pdf_matched",
          "notes"
        ],
        "title": "DriverKPIResponse",
        "description": "司机KPI响应"
      },
      "DriverLogin": {
        "properties": {
          "amazon_id": {
            "type": "string",
            "title": "Amazon Id",
            "description": "Driver Amazon ID"
          },
          "password": {
            "type": "string",
            "title": "Password",
            "description": "Driver password"
          }
        },
        "type": "object",
        "required": [
          "amazon_id",
          "password"
        ],
        "title": "DriverLogin",
        "description": "Schema for driver app login using Amazon ID."
      },
      "DriverResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "deputy_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Deputy Id"
          },
          "amazon_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Amazon Id"
          },
          "phone": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Phone"
          },
          "email": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Email"
          },
          "address": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Address"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "default": false
          },
          "can_login": {
            "type": "boolean",
            "title": "Can Login",
            "default": false
          },
          "has_password": {
            "type": "boolean",
            "title": "Has Password",
            "default": false
          },
          "has_amazon_credentials": {
            "type": "boolean",
            "title": "Has Amazon Credentials",
            "default": false
          },
          "license_file_url": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "License File Url",
            "default": []
          },
          "license_number": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "License Number"
          },
          "license_expiry_date": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "License Expiry Date"
          },
          "license_reminder_sent": {
            "type": "boolean",
            "title": "License Reminder Sent",
            "default": false
          },
          "visa_file_url": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Visa File Url",
            "default": []
          },
          "visa_number": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Visa Number"
          },
          "visa_expiry_date": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Visa Expiry Date"
          },
          "visa_reminder_sent": {
            "type": "boolean",
            "title": "Visa Reminder Sent",
            "default": false
          },
          "asset_history": {
            "items": {
              "$ref": "#/components/schemas/DriverAssetHistory"
            },
            "type": "array",
            "title": "Asset History",
            "default": []
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "created_at",
          "updated_at"
        ],
        "title": "DriverResponse",
        "description": "Schema for driver response - uses flexible validation to handle legacy data."
      },
      "DriverSetPassword": {
        "properties": {
          "password": {
            "type": "string",
            "minLength": 6,
            "title": "Password",
            "description": "New password (min 6 characters)"
          }
        },
        "type": "object",
        "required": [
          "password"
        ],
        "title": "DriverSetPassword",
        "description": "Schema for setting/resetting driver password."
      },
      "DriverToken": {
        "properties": {
          "access_token": {
            "type": "string",
            "title": "Access Token"
          },
          "token_type": {
            "type": "string",
            "title": "Token Type",
            "default": "bearer"
          },
          "driver": {
            "$ref": "#/components/schemas/DriverResponse"
          }
        },
        "type": "object",
        "required": [
          "access_token",
          "driver"
        ],
        "title": "DriverToken",
        "description": "Schema for driver authentication token response."
      },
      "DriverVehicleInspectionResponse": {
        "properties": {
          "inspection_date": {
            "type": "string",
            "format": "date",
            "title": "Inspection Date"
          },
          "mileage_at_inspection": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mileage At Inspection",
            "description": "Vehicle mileage at time of inspection"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes",
            "description": "Inspection notes"
          },
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "vehicle_id": {
            "type": "integer",
            "title": "Vehicle Id"
          },
          "driver_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Driver Id"
          },
          "vehicle_alias": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Vehicle Alias"
          },
          "driver_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Driver Name"
          },
          "inspection_urls": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Inspection Urls"
          },
          "condition": {
            "type": "string",
            "title": "Condition"
          },
          "reviewed_by_admin": {
            "type": "boolean",
            "title": "Reviewed By Admin"
          },
          "admin_notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Admin Notes"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "inspection_date",
          "id",
          "vehicle_id",
          "driver_id",
          "inspection_urls",
          "condition",
          "reviewed_by_admin",
          "admin_notes",
          "created_at",
          "updated_at"
        ],
        "title": "DriverVehicleInspectionResponse",
        "description": "Schema for driver app response (legacy compatibility: condition as int)."
      },
      "EmailResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "message": {
            "type": "string",
            "title": "Message"
          }
        },
        "type": "object",
        "required": [
          "success",
          "message"
        ],
        "title": "EmailResponse",
        "description": "Response model for email operations."
      },
      "FileRecordResponse": {
        "properties": {
          "object_key": {
            "type": "string",
            "title": "Object Key",
            "description": "MinIO/Wasabi object key"
          },
          "file_url": {
            "type": "string",
            "title": "File Url",
            "description": "Full URL to access the file"
          },
          "file_name": {
            "type": "string",
            "title": "File Name",
            "description": "Original file name"
          },
          "file_size": {
            "type": "integer",
            "minimum": 0,
            "title": "File Size",
            "description": "File size in bytes"
          },
          "content_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Content Type",
            "description": "MIME type"
          },
          "folder": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Folder",
            "description": "Folder path in bucket"
          },
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "uploaded_by": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Uploaded By"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "object_key",
          "file_url",
          "file_name",
          "file_size",
          "id",
          "created_at",
          "updated_at"
        ],
        "title": "FileRecordResponse",
        "description": "Schema for file record response."
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": {
              "$ref": "#/components/schemas/ValidationError"
            },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "InspectionPhotoWithDate": {
        "properties": {
          "date": {
            "type": "string",
            "format": "date",
            "title": "Date"
          },
          "inspection_url": {
            "type": "string",
            "title": "Inspection Url"
          }
        },
        "type": "object",
        "required": [
          "date",
          "inspection_url"
        ],
        "title": "InspectionPhotoWithDate",
        "description": "Inspection photo with date information."
      },
      "InventoryChangeResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "product_id": {
            "type": "integer",
            "title": "Product Id"
          },
          "product_name": {
            "type": "string",
            "title": "Product Name"
          },
          "change_type": {
            "type": "string",
            "title": "Change Type"
          },
          "quantity": {
            "type": "integer",
            "title": "Quantity"
          },
          "change_date": {
            "type": "string",
            "format": "date",
            "title": "Change Date"
          },
          "driver_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Driver Id"
          },
          "driver_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Driver Name"
          },
          "operated_by_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Operated By Id"
          },
          "operated_by_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Operated By Name"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "product_id",
          "product_name",
          "change_type",
          "quantity",
          "change_date",
          "created_at"
        ],
        "title": "InventoryChangeResponse",
        "description": "Unified inventory change record (both IN and OUT)."
      },
      "KPIReportDetailResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "week": {
            "type": "string",
            "title": "Week"
          },
          "year": {
            "type": "integer",
            "title": "Year"
          },
          "min_delivered": {
            "type": "integer",
            "title": "Min Delivered"
          },
          "dnr_threshold": {
            "type": "integer",
            "title": "Dnr Threshold"
          },
          "weight_dnr": {
            "type": "number",
            "title": "Weight Dnr"
          },
          "weight_dcr": {
            "type": "number",
            "title": "Weight Dcr"
          },
          "weight_pod": {
            "type": "number",
            "title": "Weight Pod"
          },
          "weight_cc": {
            "type": "number",
            "title": "Weight Cc"
          },
          "weight_netradyne": {
            "type": "number",
            "title": "Weight Netradyne"
          },
          "total_drivers": {
            "type": "integer",
            "title": "Total Drivers"
          },
          "matched_drivers": {
            "type": "integer",
            "title": "Matched Drivers"
          },
          "overall_standing": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Overall Standing"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          },
          "driver_kpis": {
            "items": {
              "$ref": "#/components/schemas/DriverKPIResponse"
            },
            "type": "array",
            "title": "Driver Kpis"
          }
        },
        "type": "object",
        "required": [
          "id",
          "week",
          "year",
          "min_delivered",
          "dnr_threshold",
          "weight_dnr",
          "weight_dcr",
          "weight_pod",
          "weight_cc",
          "weight_netradyne",
          "total_drivers",
          "matched_drivers",
          "overall_standing",
          "created_at",
          "updated_at",
          "driver_kpis"
        ],
        "title": "KPIReportDetailResponse",
        "description": "KPI报告详情响应(包含司机KPI数据)"
      },
      "KPIReportResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "week": {
            "type": "string",
            "title": "Week"
          },
          "year": {
            "type": "integer",
            "title": "Year"
          },
          "min_delivered": {
            "type": "integer",
            "title": "Min Delivered"
          },
          "dnr_threshold": {
            "type": "integer",
            "title": "Dnr Threshold"
          },
          "weight_dnr": {
            "type": "number",
            "title": "Weight Dnr"
          },
          "weight_dcr": {
            "type": "number",
            "title": "Weight Dcr"
          },
          "weight_pod": {
            "type": "number",
            "title": "Weight Pod"
          },
          "weight_cc": {
            "type": "number",
            "title": "Weight Cc"
          },
          "weight_netradyne": {
            "type": "number",
            "title": "Weight Netradyne"
          },
          "total_drivers": {
            "type": "integer",
            "title": "Total Drivers"
          },
          "matched_drivers": {
            "type": "integer",
            "title": "Matched Drivers"
          },
          "overall_standing": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Overall Standing"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "week",
          "year",
          "min_delivered",
          "dnr_threshold",
          "weight_dnr",
          "weight_dcr",
          "weight_pod",
          "weight_cc",
          "weight_netradyne",
          "total_drivers",
          "matched_drivers",
          "overall_standing",
          "created_at",
          "updated_at"
        ],
        "title": "KPIReportResponse",
        "description": "KPI报告响应"
      },
      "MessageTemplateResponse": {
        "properties": {
          "template_key": {
            "type": "string",
            "maxLength": 100,
            "title": "Template Key"
          },
          "template_type": {
            "type": "string",
            "pattern": "^(sms|email)$",
            "title": "Template Type"
          },
          "name": {
            "type": "string",
            "maxLength": 200,
            "title": "Name"
          },
          "subject": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Subject"
          },
          "content": {
            "type": "string",
            "title": "Content"
          },
          "variables": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Variables",
            "default": []
          },
          "is_html": {
            "type": "boolean",
            "title": "Is Html",
            "default": false
          },
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "is_system": {
            "type": "boolean",
            "title": "Is System"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          },
          "default_content": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Default Content"
          },
          "default_subject": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Default Subject"
          }
        },
        "type": "object",
        "required": [
          "template_key",
          "template_type",
          "name",
          "content",
          "id",
          "is_system",
          "created_at",
          "updated_at"
        ],
        "title": "MessageTemplateResponse"
      },
      "MessageTemplateUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 200
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "subject": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 500
              },
              {
                "type": "null"
              }
            ],
            "title": "Subject"
          },
          "content": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Content"
          },
          "variables": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Variables"
          },
          "is_html": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Html"
          }
        },
        "type": "object",
        "title": "MessageTemplateUpdate"
      },
      "PreviousInspectionSummary": {
        "properties": {
          "inspection_date": {
            "type": "string",
            "format": "date",
            "title": "Inspection Date"
          },
          "mileage_at_inspection": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mileage At Inspection"
          },
          "photo_full_urls": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Photo Full Urls",
            "default": []
          },
          "driver_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Driver Name"
          }
        },
        "type": "object",
        "required": [
          "inspection_date",
          "mileage_at_inspection"
        ],
        "title": "PreviousInspectionSummary",
        "description": "Simplified previous inspection data (only key fields)."
      },
      "ProductBorrowCreate": {
        "properties": {
          "quantity": {
            "type": "integer",
            "exclusiveMinimum": 0,
            "title": "Quantity",
            "default": 1
          },
          "borrow_date": {
            "type": "string",
            "format": "date",
            "title": "Borrow Date"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes"
          },
          "product_id": {
            "type": "integer",
            "title": "Product Id"
          },
          "driver_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Driver Id"
          }
        },
        "type": "object",
        "required": [
          "borrow_date",
          "product_id"
        ],
        "title": "ProductBorrowCreate",
        "description": "Schema for creating borrow/distribution record."
      },
      "ProductBorrowResponse": {
        "properties": {
          "quantity": {
            "type": "integer",
            "exclusiveMinimum": 0,
            "title": "Quantity",
            "default": 1
          },
          "borrow_date": {
            "type": "string",
            "format": "date",
            "title": "Borrow Date"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes"
          },
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "product_id": {
            "type": "integer",
            "title": "Product Id"
          },
          "driver_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Driver Id"
          },
          "operated_by_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Operated By Id"
          },
          "operated_by_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Operated By Name"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "borrow_date",
          "id",
          "product_id",
          "driver_id",
          "operated_by_id",
          "operated_by_name",
          "created_at",
          "updated_at"
        ],
        "title": "ProductBorrowResponse",
        "description": "Schema for borrow response."
      },
      "ProductCreate": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "min_stock_threshold": {
            "type": "integer",
            "minimum": 0,
            "title": "Min Stock Threshold",
            "default": 0
          },
          "archive": {
            "type": "boolean",
            "title": "Archive",
            "default": false
          },
          "available_stock": {
            "type": "integer",
            "minimum": 0,
            "title": "Available Stock",
            "description": "Initial stock quantity",
            "default": 0
          }
        },
        "type": "object",
        "required": [
          "name"
        ],
        "title": "ProductCreate",
        "description": "Schema for creating a product."
      },
      "ProductInventoryCreate": {
        "properties": {
          "quantity": {
            "type": "integer",
            "exclusiveMinimum": 0,
            "title": "Quantity"
          },
          "purchase_date": {
            "type": "string",
            "format": "date",
            "title": "Purchase Date"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes"
          },
          "product_id": {
            "type": "integer",
            "title": "Product Id"
          }
        },
        "type": "object",
        "required": [
          "quantity",
          "purchase_date",
          "product_id"
        ],
        "title": "ProductInventoryCreate",
        "description": "Schema for creating inventory record."
      },
      "ProductInventoryResponse": {
        "properties": {
          "quantity": {
            "type": "integer",
            "exclusiveMinimum": 0,
            "title": "Quantity"
          },
          "purchase_date": {
            "type": "string",
            "format": "date",
            "title": "Purchase Date"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes"
          },
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "product_id": {
            "type": "integer",
            "title": "Product Id"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          },
          "operated_by_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Operated By Id"
          },
          "operated_by_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Operated By Name"
          }
        },
        "type": "object",
        "required": [
          "quantity",
          "purchase_date",
          "id",
          "product_id",
          "created_at",
          "updated_at"
        ],
        "title": "ProductInventoryResponse",
        "description": "Schema for inventory response."
      },
      "ProductResponse": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "min_stock_threshold": {
            "type": "integer",
            "minimum": 0,
            "title": "Min Stock Threshold",
            "default": 0
          },
          "archive": {
            "type": "boolean",
            "title": "Archive"
          },
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "available_stock": {
            "type": "integer",
            "title": "Available Stock"
          },
          "low_stock_alert_sent": {
            "type": "boolean",
            "title": "Low Stock Alert Sent"
          },
          "needs_purchase": {
            "type": "boolean",
            "title": "Needs Purchase",
            "default": false
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "name",
          "archive",
          "id",
          "available_stock",
          "low_stock_alert_sent",
          "created_at",
          "updated_at"
        ],
        "title": "ProductResponse",
        "description": "Schema for product response."
      },
      "ProductUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "min_stock_threshold": {
            "anyOf": [
              {
                "type": "integer",
                "minimum": 0
              },
              {
                "type": "null"
              }
            ],
            "title": "Min Stock Threshold"
          },
          "archive": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Archive"
          }
        },
        "type": "object",
        "title": "ProductUpdate",
        "description": "Schema for updating product."
      },
      "ReceivedSMSListResponse": {
        "properties": {
          "total": {
            "type": "integer",
            "title": "Total"
          },
          "items": {
            "items": {
              "$ref": "#/components/schemas/ReceivedSMSResponse"
            },
            "type": "array",
            "title": "Items"
          }
        },
        "type": "object",
        "required": [
          "total",
          "items"
        ],
        "title": "ReceivedSMSListResponse",
        "description": "Schema for list of received SMS."
      },
      "ReceivedSMSResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "sender": {
            "type": "string",
            "title": "Sender"
          },
          "message": {
            "type": "string",
            "title": "Message"
          },
          "device_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Device Id"
          },
          "received_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Received At"
          },
          "external_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "External Id"
          },
          "is_processed": {
            "type": "boolean",
            "title": "Is Processed"
          },
          "processed_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Processed At"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "sender",
          "message",
          "device_id",
          "received_at",
          "external_id",
          "is_processed",
          "processed_at",
          "created_at",
          "updated_at"
        ],
        "title": "ReceivedSMSResponse",
        "description": "Schema for ReceivedSMS response."
      },
      "RepairSupplierCreate": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Supplier name"
          },
          "location": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Location",
            "description": "Address"
          },
          "email": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Email",
            "description": "Email"
          },
          "phone": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Phone",
            "description": "Phone"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes",
            "description": "Notes/History"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "description": "Is active",
            "default": true
          }
        },
        "type": "object",
        "required": [
          "name"
        ],
        "title": "RepairSupplierCreate",
        "description": "Create RepairSupplier request schema"
      },
      "RepairSupplierResponse": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Supplier name"
          },
          "location": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Location",
            "description": "Address"
          },
          "email": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Email",
            "description": "Email"
          },
          "phone": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Phone",
            "description": "Phone"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes",
            "description": "Notes/History"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active",
            "description": "Is active",
            "default": true
          },
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "name",
          "id",
          "created_at",
          "updated_at"
        ],
        "title": "RepairSupplierResponse",
        "description": "RepairSupplier response schema"
      },
      "RepairSupplierSimple": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "name": {
            "type": "string",
            "title": "Name"
          },
          "location": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Location"
          },
          "email": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Email"
          },
          "phone": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Phone"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "is_active"
        ],
        "title": "RepairSupplierSimple",
        "description": "Simplified RepairSupplier schema, used for nesting in other responses"
      },
      "RepairSupplierUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "Supplier name"
          },
          "location": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Location",
            "description": "Address"
          },
          "email": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Email",
            "description": "Email"
          },
          "phone": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Phone",
            "description": "Phone"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes",
            "description": "Notes/History"
          },
          "is_active": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Active",
            "description": "Is active"
          }
        },
        "type": "object",
        "title": "RepairSupplierUpdate",
        "description": "Update RepairSupplier request schema"
      },
      "RosterPreviewItem": {
        "properties": {
          "roster_id": {
            "type": "string",
            "title": "Roster Id",
            "description": "Deputy roster ID",
            "example": "3039"
          },
          "deputy_id": {
            "type": "string",
            "title": "Deputy Id",
            "description": "Deputy employee ID",
            "example": "16"
          },
          "driver_name": {
            "type": "string",
            "title": "Driver Name",
            "description": "Driver name",
            "example": "Rocky"
          },
          "start_time": {
            "type": "string",
            "title": "Start Time",
            "description": "Shift start time (localized)",
            "example": "2025-12-29T07:45:00+11:00"
          },
          "end_time": {
            "type": "string",
            "title": "End Time",
            "description": "Shift end time (localized)",
            "example": "2025-12-29T17:45:00+11:00"
          },
          "status": {
            "type": "string",
            "enum": [
              "ready",
              "exists",
              "no_driver"
            ],
            "title": "Status",
            "description": "Sync status: ready (can sync), exists (already exists, will update), no_driver (driver not found)",
            "example": "ready"
          }
        },
        "type": "object",
        "required": [
          "roster_id",
          "deputy_id",
          "driver_name",
          "start_time",
          "end_time",
          "status"
        ],
        "title": "RosterPreviewItem",
        "description": "Preview item for a single roster from Deputy."
      },
      "RosterPreviewResponse": {
        "properties": {
          "date": {
            "type": "string",
            "title": "Date",
            "description": "Query date",
            "example": "2025-12-29"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "Total rosters from Deputy",
            "example": 22
          },
          "can_sync": {
            "type": "integer",
            "title": "Can Sync",
            "description": "Number of rosters that can be synced",
            "example": 22
          },
          "rosters": {
            "items": {
              "$ref": "#/components/schemas/RosterPreviewItem"
            },
            "type": "array",
            "title": "Rosters",
            "description": "List of roster preview items"
          }
        },
        "type": "object",
        "required": [
          "date",
          "total",
          "can_sync",
          "rosters"
        ],
        "title": "RosterPreviewResponse",
        "description": "Response for roster preview endpoint."
      },
      "RosterSyncResponse": {
        "properties": {
          "date": {
            "type": "string",
            "title": "Date",
            "description": "Synced date",
            "example": "2025-12-29"
          },
          "created": {
            "type": "integer",
            "title": "Created",
            "description": "Number of schedules created",
            "example": 0
          },
          "updated": {
            "type": "integer",
            "title": "Updated",
            "description": "Number of schedules updated",
            "example": 22
          },
          "skipped": {
            "type": "integer",
            "title": "Skipped",
            "description": "Number of rosters skipped",
            "example": 0
          },
          "updated_schedules": {
            "items": {
              "$ref": "#/components/schemas/SyncedScheduleInfo"
            },
            "type": "array",
            "title": "Updated Schedules",
            "description": "List of successfully updated schedules"
          },
          "skipped_rosters": {
            "items": {
              "$ref": "#/components/schemas/SkippedRosterInfo"
            },
            "type": "array",
            "title": "Skipped Rosters",
            "description": "List of skipped rosters"
          }
        },
        "type": "object",
        "required": [
          "date",
          "created",
          "updated",
          "skipped"
        ],
        "title": "RosterSyncResponse",
        "description": "Response for roster sync endpoint."
      },
      "RouteImportResponse": {
        "properties": {
          "file_name": {
            "type": "string",
            "title": "File Name",
            "description": "Original filename",
            "example": "Routes_DVT4_2025-12-04.xlsx"
          },
          "import_date": {
            "type": "string",
            "title": "Import Date",
            "description": "Date of schedules being updated",
            "example": "2025-12-26"
          },
          "total_routes_in_file": {
            "type": "integer",
            "title": "Total Routes In File",
            "description": "Total routes parsed from file",
            "example": 20
          },
          "total_schedules_today": {
            "type": "integer",
            "title": "Total Schedules Today",
            "description": "Total schedules for the date",
            "example": 25
          },
          "matched_and_updated": {
            "type": "integer",
            "title": "Matched And Updated",
            "description": "Number of schedules successfully updated",
            "example": 18
          },
          "created_new_schedules": {
            "type": "integer",
            "title": "Created New Schedules",
            "description": "Number of new schedules created",
            "example": 2
          },
          "not_matched": {
            "type": "integer",
            "title": "Not Matched",
            "description": "Number of routes that couldn't be matched (should be 0 now)",
            "example": 0
          },
          "no_amazon_id": {
            "type": "integer",
            "title": "No Amazon Id",
            "description": "Number of schedules without amazon_id",
            "example": 5
          },
          "updated_schedules": {
            "items": {
              "$ref": "#/components/schemas/UpdatedScheduleInfo"
            },
            "type": "array",
            "title": "Updated Schedules",
            "description": "List of successfully updated schedules"
          },
          "created_schedules": {
            "items": {
              "$ref": "#/components/schemas/CreatedScheduleInfo"
            },
            "type": "array",
            "title": "Created Schedules",
            "description": "List of newly created schedules"
          },
          "unmatched_routes": {
            "items": {
              "$ref": "#/components/schemas/UnmatchedRouteInfo"
            },
            "type": "array",
            "title": "Unmatched Routes",
            "description": "List of routes that couldn't be matched to any schedule"
          }
        },
        "type": "object",
        "required": [
          "file_name",
          "import_date",
          "total_routes_in_file",
          "total_schedules_today",
          "matched_and_updated",
          "created_new_schedules",
          "not_matched",
          "no_amazon_id"
        ],
        "title": "RouteImportResponse",
        "description": "Response from importing routes and updating schedules."
      },
      "RouteResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id",
            "description": "Route Singleton ID",
            "example": 1
          },
          "route_codes": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Route Codes",
            "description": "List of all route codes",
            "example": [
              "CX203",
              "CX211"
            ]
          },
          "updated_at": {
            "type": "string",
            "title": "Updated At",
            "description": "Last updated timestamp",
            "example": "2026-02-13T10:30:00"
          }
        },
        "type": "object",
        "required": [
          "id",
          "route_codes",
          "updated_at"
        ],
        "title": "RouteResponse",
        "description": "Response model for the route singleton."
      },
      "SMSResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "message": {
            "type": "string",
            "title": "Message"
          },
          "provider": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Provider"
          }
        },
        "type": "object",
        "required": [
          "success",
          "message"
        ],
        "title": "SMSResponse",
        "description": "Response model for SMS operations."
      },
      "ScheduleConfirmStatus": {
        "type": "string",
        "enum": [
          "pending",
          "confirmed",
          "rejected"
        ],
        "title": "ScheduleConfirmStatus",
        "description": "Driver schedule confirmation status."
      },
      "ScheduleResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id",
            "description": "Schedule record ID (integer, auto-generated). Primary key.",
            "example": 36
          },
          "deputy_schedule_id": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Deputy Schedule Id",
            "description": "Deputy roster ID (string, optional). Original roster ID from Deputy system.",
            "example": "3558"
          },
          "driver": {
            "allOf": [
              {
                "$ref": "#/components/schemas/DriverInSchedule"
              }
            ],
            "description": "Driver information object containing id, deputy_id, name, amazon_id, phone, is_active."
          },
          "schedule_date": {
            "type": "string",
            "format": "date",
            "title": "Schedule Date",
            "description": "Schedule date (ISO 8601 date format: YYYY-MM-DD).",
            "example": "2025-12-26"
          },
          "start_time": {
            "type": "string",
            "format": "date-time",
            "title": "Start Time",
            "description": "Shift start time (ISO 8601 datetime format: YYYY-MM-DDTHH:MM:SS).",
            "example": "2025-12-25T23:00:00"
          },
          "end_time": {
            "type": "string",
            "format": "date-time",
            "title": "End Time",
            "description": "Shift end time (ISO 8601 datetime format: YYYY-MM-DDTHH:MM:SS).",
            "example": "2025-12-26T07:00:00"
          },
          "route": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 200
              },
              {
                "type": "null"
              }
            ],
            "title": "Route",
            "description": "Route assignment (string, optional).",
            "example": "Route A - North Zone"
          },
          "vehicle_rego": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Vehicle Rego",
            "description": "Vehicle registration number (rego, optional).",
            "example": "ABC123"
          },
          "vehicle_alias": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Vehicle Alias",
            "description": "Vehicle alias/nickname (optional).",
            "example": "Van001"
          },
          "checkin_status": {
            "allOf": [
              {
                "$ref": "#/components/schemas/CheckinStatus-Output"
              }
            ],
            "description": "Driver check-in status (enum string). Possible values: 'not_checked_in', 'checked_in'.",
            "example": "not_checked_in"
          },
          "confirm_status": {
            "allOf": [
              {
                "$ref": "#/components/schemas/ScheduleConfirmStatus"
              }
            ],
            "description": "Driver confirmation status (enum string). Possible values: 'pending', 'confirmed', 'rejected'.",
            "example": "pending"
          },
          "reminder_sms_sent": {
            "type": "boolean",
            "title": "Reminder Sms Sent",
            "description": "Reminder SMS sent flag (boolean).",
            "example": false
          },
          "assignment_sms_sent": {
            "type": "boolean",
            "title": "Assignment Sms Sent",
            "description": "Assignment SMS sent flag (boolean).",
            "example": false
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At",
            "description": "Record creation timestamp.",
            "example": "2025-12-25T12:15:29.176043"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At",
            "description": "Record last update timestamp.",
            "example": "2025-12-26T00:43:25.901380"
          }
        },
        "type": "object",
        "required": [
          "id",
          "driver",
          "schedule_date",
          "start_time",
          "end_time",
          "checkin_status",
          "confirm_status",
          "reminder_sms_sent",
          "assignment_sms_sent",
          "created_at",
          "updated_at"
        ],
        "title": "ScheduleResponse",
        "description": "Schema for schedule response. Driver info is nested in 'driver' object."
      },
      "ScheduleUpdate": {
        "properties": {
          "driver_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Driver Id",
            "description": "Driver ID (integer, optional). When provided, automatically updates deputy_id, driver_name, and amazon_id from the driver record.",
            "example": 137
          },
          "deputy_id": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Deputy Id",
            "description": "Deputy employee ID (string). Links to driver record in database.",
            "example": "61"
          },
          "driver_name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Driver Name",
            "description": "Driver full name (string). Denormalized from driver record.",
            "example": "Archanabahen Patel"
          },
          "amazon_id": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Amazon Id",
            "description": "Amazon employee ID (string, optional). Used for Amazon Flex integration.",
            "example": "AMZ-12345"
          },
          "schedule_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Schedule Date",
            "description": "Schedule date (ISO 8601 date format: YYYY-MM-DD). Represents the roster date from Deputy.",
            "example": "2025-12-26"
          },
          "route": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 200
              },
              {
                "type": "null"
              }
            ],
            "title": "Route",
            "description": "Route assignment (string, optional). Route code or description.",
            "example": "Route B - South Zone"
          },
          "vehicle_rego": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Vehicle Rego",
            "description": "Vehicle registration number (rego, optional). Vehicle rego to assign to this schedule.",
            "example": "ABC123"
          },
          "vehicle_alias": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Vehicle Alias",
            "description": "Vehicle alias/nickname (optional). Vehicle display name to assign to this schedule.",
            "example": "Van001"
          },
          "deputy_schedule_id": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Deputy Schedule Id",
            "description": "Deputy roster ID (string, optional). Original roster ID from Deputy system.",
            "example": "3014"
          },
          "start_time": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Start Time",
            "description": "Shift start time (ISO 8601 datetime format: YYYY-MM-DDTHH:MM:SS). Timezone-aware timestamp for shift start.",
            "example": "2025-12-25T23:00:00"
          },
          "end_time": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "End Time",
            "description": "Shift end time (ISO 8601 datetime format: YYYY-MM-DDTHH:MM:SS). Timezone-aware timestamp for shift end.",
            "example": "2025-12-26T07:00:00"
          },
          "checkin_status": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/app__models__schedule__CheckinStatus"
              },
              {
                "type": "null"
              }
            ],
            "description": "Check-in status (enum string). Possible values: 'not_checked_in', 'checked_in', 'checked_out'.",
            "example": "checked_in"
          },
          "confirm_status": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/ScheduleConfirmStatus"
              },
              {
                "type": "null"
              }
            ],
            "description": "Driver confirmation status (enum string). Possible values: 'pending', 'confirmed', 'rejected'.",
            "example": "confirmed"
          },
          "reminder_sms_sent": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Reminder Sms Sent",
            "description": "Reminder SMS sent flag (boolean). True if reminder SMS has been sent to driver.",
            "example": false
          },
          "assignment_sms_sent": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Assignment Sms Sent",
            "description": "Assignment SMS sent flag (boolean). True if assignment SMS (with route/vehicle info) has been sent to driver.",
            "example": false
          }
        },
        "type": "object",
        "title": "ScheduleUpdate",
        "description": "Schema for updating a schedule. All fields are optional - only include fields you want to update."
      },
      "SendBulkEmailRequest": {
        "properties": {
          "recipients": {
            "items": {
              "type": "string",
              "format": "email"
            },
            "type": "array",
            "title": "Recipients",
            "description": "List of recipient email addresses"
          },
          "subject": {
            "type": "string",
            "maxLength": 200,
            "minLength": 1,
            "title": "Subject",
            "description": "Email subject"
          },
          "body": {
            "type": "string",
            "minLength": 1,
            "title": "Body",
            "description": "Email body content"
          },
          "html": {
            "type": "boolean",
            "title": "Html",
            "description": "If true, body is HTML content",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "recipients",
          "subject",
          "body"
        ],
        "title": "SendBulkEmailRequest",
        "description": "Request model for sending bulk email."
      },
      "SendBulkSMSRequest": {
        "properties": {
          "phones": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Phones",
            "description": "List of recipient phone numbers"
          },
          "message": {
            "type": "string",
            "maxLength": 1600,
            "minLength": 1,
            "title": "Message",
            "description": "SMS message content"
          }
        },
        "type": "object",
        "required": [
          "phones",
          "message"
        ],
        "title": "SendBulkSMSRequest",
        "description": "Request model for sending bulk SMS."
      },
      "SendEmailRequest": {
        "properties": {
          "to_email": {
            "type": "string",
            "format": "email",
            "title": "To Email",
            "description": "Recipient email address"
          },
          "subject": {
            "type": "string",
            "maxLength": 200,
            "minLength": 1,
            "title": "Subject",
            "description": "Email subject"
          },
          "body": {
            "type": "string",
            "minLength": 1,
            "title": "Body",
            "description": "Email body content"
          },
          "html": {
            "type": "boolean",
            "title": "Html",
            "description": "If true, body is HTML content",
            "default": false
          },
          "cc": {
            "anyOf": [
              {
                "items": {
                  "type": "string",
                  "format": "email"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Cc",
            "description": "CC recipients (optional)"
          },
          "bcc": {
            "anyOf": [
              {
                "items": {
                  "type": "string",
                  "format": "email"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Bcc",
            "description": "BCC recipients (optional)"
          }
        },
        "type": "object",
        "required": [
          "to_email",
          "subject",
          "body"
        ],
        "title": "SendEmailRequest",
        "description": "Request model for sending email."
      },
      "SendSMSRequest": {
        "properties": {
          "phone": {
            "type": "string",
            "title": "Phone",
            "description": "Recipient phone number (with country code, e.g., +61451728450)"
          },
          "message": {
            "type": "string",
            "maxLength": 1600,
            "minLength": 1,
            "title": "Message",
            "description": "SMS message content"
          }
        },
        "type": "object",
        "required": [
          "phone",
          "message"
        ],
        "title": "SendSMSRequest",
        "description": "Request model for sending SMS."
      },
      "SkippedRosterInfo": {
        "properties": {
          "roster_id": {
            "type": "string",
            "title": "Roster Id",
            "description": "Deputy roster ID",
            "example": "3040"
          },
          "deputy_id": {
            "type": "string",
            "title": "Deputy Id",
            "description": "Deputy employee ID",
            "example": "999"
          },
          "reason": {
            "type": "string",
            "enum": [
              "no_driver",
              "missing_fields"
            ],
            "title": "Reason",
            "description": "Reason: no_driver (driver not found), missing_fields (missing required fields)",
            "example": "no_driver"
          }
        },
        "type": "object",
        "required": [
          "roster_id",
          "deputy_id",
          "reason"
        ],
        "title": "SkippedRosterInfo",
        "description": "Information about a skipped roster."
      },
      "SyncedDriver": {
        "properties": {
          "driver_id": {
            "type": "integer",
            "title": "Driver Id",
            "description": "Internal Driver ID"
          },
          "deputy_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Deputy Id",
            "description": "Deputy Employee ID"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Driver Name"
          }
        },
        "type": "object",
        "required": [
          "driver_id",
          "name"
        ],
        "title": "SyncedDriver",
        "description": "Simple driver info for synced roster response."
      },
      "SyncedScheduleInfo": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id",
            "description": "Schedule ID",
            "example": 282
          },
          "driver": {
            "type": "string",
            "title": "Driver",
            "description": "Driver name",
            "example": "Zhao MA"
          },
          "amazon_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Amazon Id",
            "description": "Amazon ID from Driver table",
            "example": "A338BKIQT4EYF"
          }
        },
        "type": "object",
        "required": [
          "id",
          "driver"
        ],
        "title": "SyncedScheduleInfo",
        "description": "Information about a synced schedule."
      },
      "SystemConfigResponse": {
        "properties": {
          "admin_phone": {
            "type": "string",
            "title": "Admin Phone",
            "description": "[Deprecated] Admin reminder phone, please use contacts",
            "deprecated": true
          },
          "contacts": {
            "items": {
              "$ref": "#/components/schemas/UserResponse"
            },
            "type": "array",
            "title": "Contacts",
            "description": "System notification contact list",
            "default": []
          },
          "driver_file_reminder_days": {
            "type": "integer",
            "title": "Driver File Reminder Days",
            "description": "Driver file expiry reminder period (days)"
          },
          "daily_sms_time": {
            "type": "string",
            "title": "Daily Sms Time",
            "description": "Driver daily confirmation SMS time (HH:MM)"
          },
          "next_maintenance_reminder_days": {
            "type": "integer",
            "title": "Next Maintenance Reminder Days",
            "description": "Next maintenance approaching reminder period (days)"
          },
          "next_day_sms_time": {
            "type": "string",
            "title": "Next Day Sms Time",
            "description": "Next day schedule notification SMS time (HH:MM)"
          }
        },
        "type": "object",
        "required": [
          "admin_phone",
          "driver_file_reminder_days",
          "daily_sms_time",
          "next_maintenance_reminder_days",
          "next_day_sms_time"
        ],
        "title": "SystemConfigResponse",
        "description": "System configuration response schema"
      },
      "SystemConfigUpdate": {
        "properties": {
          "admin_phone": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Admin Phone",
            "description": "[Deprecated] Admin reminder phone, please use contact_ids",
            "deprecated": true,
            "example": "+61412345678"
          },
          "contact_ids": {
            "anyOf": [
              {
                "items": {
                  "type": "integer"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Contact Ids",
            "description": "List of system notification contact user IDs (selected from users table)",
            "example": [
              1,
              2,
              3
            ]
          },
          "driver_file_reminder_days": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 90,
                "minimum": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Driver File Reminder Days",
            "description": "Driver file expiry reminder period (days) - Options: 10, 15, 30",
            "example": 15
          },
          "daily_sms_time": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^([01]?[0-9]|2[0-3]):[0-5][0-9]$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Daily Sms Time",
            "description": "Driver daily confirmation SMS time (HH:MM 24-hour format)",
            "example": "08:00"
          },
          "next_maintenance_reminder_days": {
            "anyOf": [
              {
                "type": "integer",
                "maximum": 90,
                "minimum": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Next Maintenance Reminder Days",
            "description": "Next maintenance approaching reminder period (days) - Options: 10, 15, 30",
            "example": 10
          },
          "next_day_sms_time": {
            "anyOf": [
              {
                "type": "string",
                "pattern": "^([01]?[0-9]|2[0-3]):[0-5][0-9]$"
              },
              {
                "type": "null"
              }
            ],
            "title": "Next Day Sms Time",
            "description": "Next day schedule notification SMS time (HH:MM format)",
            "example": "18:00"
          }
        },
        "type": "object",
        "title": "SystemConfigUpdate",
        "description": "System configuration update schema\n\nAll fields are optional, only provided fields are updated"
      },
      "Token": {
        "properties": {
          "access_token": {
            "type": "string",
            "title": "Access Token"
          },
          "token_type": {
            "type": "string",
            "title": "Token Type",
            "default": "bearer"
          },
          "user": {
            "$ref": "#/components/schemas/UserResponse"
          }
        },
        "type": "object",
        "required": [
          "access_token",
          "user"
        ],
        "title": "Token",
        "description": "JWT token response."
      },
      "UnmatchedRouteInfo": {
        "properties": {
          "route_code": {
            "type": "string",
            "title": "Route Code",
            "description": "Route code from file",
            "example": "CX999"
          },
          "transporter_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Transporter Id",
            "description": "Transporter ID from file",
            "example": "A1234567890"
          },
          "reason": {
            "type": "string",
            "title": "Reason",
            "description": "Reason for not matching",
            "example": "No schedule found with this amazon_id"
          }
        },
        "type": "object",
        "required": [
          "route_code",
          "reason"
        ],
        "title": "UnmatchedRouteInfo",
        "description": "Information about an unmatched route from the file (Deprecated/Unused in new logic if all create schedules)."
      },
      "UpdatedScheduleInfo": {
        "properties": {
          "schedule_id": {
            "type": "integer",
            "title": "Schedule Id",
            "description": "Schedule ID",
            "example": 36
          },
          "driver_name": {
            "type": "string",
            "title": "Driver Name",
            "description": "Driver name",
            "example": "Kamlesh Patel"
          },
          "amazon_id": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Amazon Id",
            "description": "Amazon ID (Transporter ID)",
            "example": "A2OOWBS773XYLY"
          },
          "route_code": {
            "type": "string",
            "title": "Route Code",
            "description": "Updated route code",
            "example": "CX203"
          }
        },
        "type": "object",
        "required": [
          "schedule_id",
          "driver_name",
          "route_code"
        ],
        "title": "UpdatedScheduleInfo",
        "description": "Information about an updated schedule."
      },
      "UserCreate": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Name"
          },
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email"
          },
          "phone": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 20
              },
              {
                "type": "null"
              }
            ],
            "title": "Phone"
          },
          "role": {
            "allOf": [
              {
                "$ref": "#/components/schemas/UserRole"
              }
            ],
            "description": "User role: 0 = Admin (Superuser, only one allowed), 1 = Manager (multiple allowed)",
            "default": 1
          },
          "password": {
            "type": "string",
            "minLength": 6,
            "title": "Password"
          }
        },
        "type": "object",
        "required": [
          "name",
          "email",
          "password"
        ],
        "title": "UserCreate",
        "description": "Schema for creating a new user.\n\nRoles:\n- 0 (Admin): Superuser - only one allowed in the system\n- 1 (Manager): Manager - can have multiple"
      },
      "UserForgotPasswordRequest": {
        "properties": {
          "phone": {
            "type": "string",
            "title": "Phone",
            "description": "Admin phone number"
          }
        },
        "type": "object",
        "required": [
          "phone"
        ],
        "title": "UserForgotPasswordRequest",
        "description": "Schema for admin forgot password code request."
      },
      "UserForgotPasswordReset": {
        "properties": {
          "phone": {
            "type": "string",
            "title": "Phone",
            "description": "Admin phone number"
          },
          "code": {
            "type": "string",
            "maxLength": 6,
            "minLength": 6,
            "title": "Code",
            "description": "6-digit verification code"
          },
          "new_password": {
            "type": "string",
            "minLength": 6,
            "title": "New Password",
            "description": "New password"
          }
        },
        "type": "object",
        "required": [
          "phone",
          "code",
          "new_password"
        ],
        "title": "UserForgotPasswordReset",
        "description": "Schema for admin forgot password reset."
      },
      "UserLogin": {
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email",
            "example": "admin@dspsystem.com"
          },
          "password": {
            "type": "string",
            "title": "Password",
            "example": "admin123"
          }
        },
        "type": "object",
        "required": [
          "email",
          "password"
        ],
        "title": "UserLogin",
        "description": "Schema for user login."
      },
      "UserResponse": {
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 100,
            "minLength": 1,
            "title": "Name"
          },
          "email": {
            "type": "string",
            "format": "email",
            "title": "Email"
          },
          "phone": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 20
              },
              {
                "type": "null"
              }
            ],
            "title": "Phone"
          },
          "role": {
            "allOf": [
              {
                "$ref": "#/components/schemas/UserRole"
              }
            ],
            "description": "User role: 0 = Admin (Superuser, only one allowed), 1 = Manager (multiple allowed)",
            "default": 1
          },
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "is_active": {
            "type": "boolean",
            "title": "Is Active"
          },
          "is_superuser": {
            "type": "boolean",
            "title": "Is Superuser"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "name",
          "email",
          "id",
          "is_active",
          "is_superuser",
          "created_at",
          "updated_at"
        ],
        "title": "UserResponse",
        "description": "Schema for user response."
      },
      "UserRole": {
        "type": "integer",
        "enum": [
          0,
          1
        ],
        "title": "UserRole",
        "description": "User roles in the system.\n\n0: Admin (Superuser) - Only one allowed in the system\n1: Manager - Can have multiple"
      },
      "UserUpdate": {
        "properties": {
          "name": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Name"
          },
          "email": {
            "anyOf": [
              {
                "type": "string",
                "format": "email"
              },
              {
                "type": "null"
              }
            ],
            "title": "Email"
          },
          "phone": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 20
              },
              {
                "type": "null"
              }
            ],
            "title": "Phone"
          },
          "role": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/UserRole"
              },
              {
                "type": "null"
              }
            ],
            "description": "User role: 0 = Admin (Superuser, only one allowed), 1 = Manager (multiple allowed)"
          },
          "old_password": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Old Password",
            "description": "Old password (required when changing password)"
          },
          "password": {
            "anyOf": [
              {
                "type": "string",
                "minLength": 6
              },
              {
                "type": "null"
              }
            ],
            "title": "Password",
            "description": "New password (requires old_password)"
          },
          "is_active": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "type": "null"
              }
            ],
            "title": "Is Active"
          }
        },
        "type": "object",
        "title": "UserUpdate",
        "description": "Schema for updating user."
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "integer"
                }
              ]
            },
            "type": "array",
            "title": "Location"
          },
          "msg": {
            "type": "string",
            "title": "Message"
          },
          "type": {
            "type": "string",
            "title": "Error Type"
          }
        },
        "type": "object",
        "required": [
          "loc",
          "msg",
          "type"
        ],
        "title": "ValidationError"
      },
      "VehicleAssignmentHistoryItem": {
        "properties": {
          "assignment_id": {
            "type": "integer",
            "title": "Assignment Id"
          },
          "schedule_id": {
            "type": "integer",
            "title": "Schedule Id"
          },
          "schedule_date": {
            "type": "string",
            "format": "date",
            "title": "Schedule Date"
          },
          "start_time": {
            "type": "string",
            "format": "date-time",
            "title": "Start Time"
          },
          "end_time": {
            "type": "string",
            "format": "date-time",
            "title": "End Time"
          },
          "driver_id": {
            "type": "integer",
            "title": "Driver Id"
          },
          "driver_name": {
            "type": "string",
            "title": "Driver Name"
          },
          "assigned_by_user_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Assigned By User Id"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "current_day_photos": {
            "items": {
              "$ref": "#/components/schemas/InspectionPhotoWithDate"
            },
            "type": "array",
            "title": "Current Day Photos",
            "default": []
          },
          "previous_usage_photos": {
            "items": {
              "$ref": "#/components/schemas/InspectionPhotoWithDate"
            },
            "type": "array",
            "title": "Previous Usage Photos",
            "default": []
          },
          "inspection_notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Inspection Notes"
          }
        },
        "type": "object",
        "required": [
          "assignment_id",
          "schedule_id",
          "schedule_date",
          "start_time",
          "end_time",
          "driver_id",
          "driver_name",
          "assigned_by_user_id",
          "notes",
          "created_at"
        ],
        "title": "VehicleAssignmentHistoryItem",
        "description": "Schema for vehicle assignment history item with inspection photos."
      },
      "VehicleCreate": {
        "properties": {
          "rego": {
            "type": "string",
            "maxLength": 20,
            "minLength": 1,
            "title": "Rego",
            "description": "Vehicle registration number"
          },
          "alias": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Alias",
            "description": "Vehicle nickname/alias"
          },
          "nickname": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Nickname",
            "description": "Vehicle nickname"
          },
          "brand": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Brand",
            "description": "Vehicle brand"
          },
          "model": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Model",
            "description": "Vehicle model (e.g., Transit 2021)"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "Vehicle status: 'in-use' or 'not-in-use'",
            "default": "in-use"
          },
          "condition": {
            "type": "string",
            "title": "Condition",
            "description": "Vehicle condition: 'available', 'need-repair', or 'unavailable'",
            "default": "available"
          },
          "mileage": {
            "type": "integer",
            "title": "Mileage",
            "description": "Current mileage"
          },
          "scheduled_mileage": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Scheduled Mileage",
            "description": "Scheduled/target mileage"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes",
            "description": "General notes about the vehicle"
          },
          "maintenance_cycle_days": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Maintenance Cycle Days",
            "description": "Maintenance cycle in days, default 180",
            "default": 180
          },
          "maintenance_cycle_mileage": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Maintenance Cycle Mileage",
            "description": "Maintenance cycle in km, default 10000",
            "default": 10000
          },
          "repair_supplier_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Repair Supplier Id",
            "description": "Repair supplier ID"
          },
          "last_maintenance_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Maintenance Date",
            "description": "Last maintenance date (manual input)"
          },
          "next_maintenance_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Next Maintenance Date",
            "description": "Next maintenance date (manual input)"
          },
          "scheduled_maintenance_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Scheduled Maintenance Date",
            "description": "Scheduled datetime for workshop email notification (manual input)"
          },
          "procession_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Procession Date",
            "description": "Procession Date"
          }
        },
        "type": "object",
        "required": [
          "rego"
        ],
        "title": "VehicleCreate",
        "description": "Schema for creating a vehicle."
      },
      "VehicleDetailResponse": {
        "properties": {
          "rego": {
            "type": "string",
            "maxLength": 20,
            "minLength": 1,
            "title": "Rego",
            "description": "Vehicle registration number"
          },
          "alias": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Alias",
            "description": "Vehicle nickname/alias"
          },
          "nickname": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Nickname",
            "description": "Vehicle nickname"
          },
          "brand": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Brand",
            "description": "Vehicle brand"
          },
          "model": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Model",
            "description": "Vehicle model (e.g., Transit 2021)"
          },
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "condition": {
            "type": "string",
            "title": "Condition"
          },
          "mileage": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mileage"
          },
          "scheduled_mileage": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Scheduled Mileage"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes"
          },
          "inspection_urls": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Inspection Urls"
          },
          "photos": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Photos",
            "default": []
          },
          "maintenance_cycle_days": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Maintenance Cycle Days"
          },
          "maintenance_cycle_mileage": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Maintenance Cycle Mileage"
          },
          "repair_supplier_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Repair Supplier Id"
          },
          "repair_supplier": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/RepairSupplierSimple"
              },
              {
                "type": "null"
              }
            ]
          },
          "last_maintenance_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Maintenance Date"
          },
          "next_maintenance_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Next Maintenance Date"
          },
          "scheduled_maintenance_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Scheduled Maintenance Date"
          },
          "procession_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Procession Date"
          },
          "email_sent": {
            "type": "boolean",
            "title": "Email Sent"
          },
          "email_sent_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Email Sent At"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          },
          "photo_full_urls": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Photo Full Urls",
            "default": []
          },
          "recent_inspections": {
            "items": {
              "type": "object"
            },
            "type": "array",
            "title": "Recent Inspections",
            "default": []
          }
        },
        "type": "object",
        "required": [
          "rego",
          "id",
          "status",
          "condition",
          "mileage",
          "scheduled_mileage",
          "notes",
          "maintenance_cycle_days",
          "maintenance_cycle_mileage",
          "repair_supplier_id",
          "last_maintenance_date",
          "next_maintenance_date",
          "scheduled_maintenance_date",
          "procession_date",
          "email_sent",
          "email_sent_at",
          "created_at",
          "updated_at"
        ],
        "title": "VehicleDetailResponse",
        "description": "Schema for vehicle detail response with additional info."
      },
      "VehicleInspectionDetailResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "vehicle_id": {
            "type": "integer",
            "title": "Vehicle Id"
          },
          "driver_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Driver Id"
          },
          "vehicle_alias": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Vehicle Alias"
          },
          "driver_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Driver Name"
          },
          "inspection_date": {
            "type": "string",
            "format": "date",
            "title": "Inspection Date"
          },
          "mileage_at_inspection": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mileage At Inspection"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes"
          },
          "photos": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Photos",
            "default": []
          },
          "photo_full_urls": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Photo Full Urls",
            "default": []
          },
          "condition": {
            "type": "string",
            "title": "Condition"
          },
          "reviewed_by_admin": {
            "type": "boolean",
            "title": "Reviewed By Admin"
          },
          "admin_notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Admin Notes"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          },
          "previous": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/PreviousInspectionSummary"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "type": "object",
        "required": [
          "id",
          "vehicle_id",
          "driver_id",
          "inspection_date",
          "mileage_at_inspection",
          "notes",
          "condition",
          "reviewed_by_admin",
          "admin_notes",
          "created_at",
          "updated_at"
        ],
        "title": "VehicleInspectionDetailResponse",
        "description": "Flat inspection detail with current info + simplified previous."
      },
      "VehicleInspectionPhotoResponse": {
        "properties": {
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "vehicle_id": {
            "type": "integer",
            "title": "Vehicle Id"
          },
          "driver_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Driver Id"
          },
          "vehicle_alias": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Vehicle Alias"
          },
          "driver_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Driver Name"
          },
          "inspection_date": {
            "type": "string",
            "format": "date",
            "title": "Inspection Date"
          },
          "mileage_at_inspection": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mileage At Inspection"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes"
          },
          "photos": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Photos",
            "default": []
          },
          "photo_full_urls": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Photo Full Urls",
            "default": []
          },
          "condition": {
            "type": "string",
            "title": "Condition"
          },
          "reviewed_by_admin": {
            "type": "boolean",
            "title": "Reviewed By Admin"
          },
          "admin_notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Admin Notes"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "vehicle_id",
          "driver_id",
          "inspection_date",
          "mileage_at_inspection",
          "notes",
          "condition",
          "reviewed_by_admin",
          "admin_notes",
          "created_at",
          "updated_at"
        ],
        "title": "VehicleInspectionPhotoResponse",
        "description": "Schema for inspection with parsed photo URLs."
      },
      "VehicleInspectionResponse": {
        "properties": {
          "inspection_date": {
            "type": "string",
            "format": "date",
            "title": "Inspection Date"
          },
          "mileage_at_inspection": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mileage At Inspection",
            "description": "Vehicle mileage at time of inspection"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes",
            "description": "Inspection notes"
          },
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "vehicle_id": {
            "type": "integer",
            "title": "Vehicle Id"
          },
          "driver_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Driver Id"
          },
          "vehicle_alias": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Vehicle Alias"
          },
          "driver_name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Driver Name"
          },
          "inspection_urls": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Inspection Urls"
          },
          "condition": {
            "type": "string",
            "title": "Condition"
          },
          "reviewed_by_admin": {
            "type": "boolean",
            "title": "Reviewed By Admin"
          },
          "admin_notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Admin Notes"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "inspection_date",
          "id",
          "vehicle_id",
          "driver_id",
          "inspection_urls",
          "condition",
          "reviewed_by_admin",
          "admin_notes",
          "created_at",
          "updated_at"
        ],
        "title": "VehicleInspectionResponse",
        "description": "Schema for vehicle inspection response."
      },
      "VehicleInspectionReview": {
        "properties": {
          "condition": {
            "type": "string",
            "title": "Condition",
            "description": "Vehicle condition: 'available', 'need-repair', or 'unavailable'"
          },
          "admin_notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Admin Notes",
            "description": "Admin review notes/feedback"
          },
          "mileage_at_inspection": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mileage At Inspection",
            "description": "Update vehicle mileage (optional, independent of review status)"
          }
        },
        "type": "object",
        "required": [
          "condition"
        ],
        "title": "VehicleInspectionReview",
        "description": "Schema for admin to review/approve inspection."
      },
      "VehicleMaintenanceComplete": {
        "properties": {
          "maintenance_date": {
            "type": "string",
            "format": "date",
            "title": "Maintenance Date"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "cost": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Cost"
          },
          "supplier_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Supplier Id"
          },
          "scheduled_mileage": {
            "type": "integer",
            "title": "Scheduled Mileage",
            "description": "Next scheduled maintenance mileage"
          }
        },
        "type": "object",
        "required": [
          "maintenance_date",
          "scheduled_mileage"
        ],
        "title": "VehicleMaintenanceComplete",
        "description": "Schema for completing vehicle maintenance."
      },
      "VehicleMaintenanceCreate": {
        "properties": {
          "maintenance_date": {
            "type": "string",
            "format": "date",
            "title": "Maintenance Date"
          },
          "location": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Location"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "cost": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Cost"
          },
          "vehicle_id": {
            "type": "integer",
            "title": "Vehicle Id"
          },
          "supplier_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Supplier Id"
          }
        },
        "type": "object",
        "required": [
          "maintenance_date",
          "vehicle_id"
        ],
        "title": "VehicleMaintenanceCreate",
        "description": "Schema for creating vehicle maintenance."
      },
      "VehicleMaintenanceResponse": {
        "properties": {
          "maintenance_date": {
            "type": "string",
            "format": "date",
            "title": "Maintenance Date"
          },
          "location": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Location"
          },
          "description": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Description"
          },
          "cost": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Cost"
          },
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "vehicle_id": {
            "type": "integer",
            "title": "Vehicle Id"
          },
          "supplier_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Supplier Id"
          },
          "supplier": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/RepairSupplierSimple"
              },
              {
                "type": "null"
              }
            ]
          },
          "reminder_email_sent": {
            "type": "boolean",
            "title": "Reminder Email Sent"
          },
          "confirmation_received": {
            "type": "boolean",
            "title": "Confirmation Received"
          },
          "confirmation_received_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Confirmation Received At"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "maintenance_date",
          "id",
          "vehicle_id",
          "reminder_email_sent",
          "confirmation_received",
          "created_at",
          "updated_at"
        ],
        "title": "VehicleMaintenanceResponse",
        "description": "Schema for vehicle maintenance response."
      },
      "VehicleResponse": {
        "properties": {
          "rego": {
            "type": "string",
            "maxLength": 20,
            "minLength": 1,
            "title": "Rego",
            "description": "Vehicle registration number"
          },
          "alias": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Alias",
            "description": "Vehicle nickname/alias"
          },
          "nickname": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Nickname",
            "description": "Vehicle nickname"
          },
          "brand": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Brand",
            "description": "Vehicle brand"
          },
          "model": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Model",
            "description": "Vehicle model (e.g., Transit 2021)"
          },
          "id": {
            "type": "integer",
            "title": "Id"
          },
          "status": {
            "type": "string",
            "title": "Status"
          },
          "condition": {
            "type": "string",
            "title": "Condition"
          },
          "mileage": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mileage"
          },
          "scheduled_mileage": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Scheduled Mileage"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes"
          },
          "inspection_urls": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Inspection Urls"
          },
          "photos": {
            "anyOf": [
              {
                "items": {
                  "type": "string"
                },
                "type": "array"
              },
              {
                "type": "null"
              }
            ],
            "title": "Photos"
          },
          "maintenance_cycle_days": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Maintenance Cycle Days"
          },
          "maintenance_cycle_mileage": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Maintenance Cycle Mileage"
          },
          "repair_supplier_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Repair Supplier Id"
          },
          "repair_supplier": {
            "anyOf": [
              {
                "$ref": "#/components/schemas/RepairSupplierSimple"
              },
              {
                "type": "null"
              }
            ]
          },
          "last_maintenance_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Maintenance Date"
          },
          "next_maintenance_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Next Maintenance Date"
          },
          "scheduled_maintenance_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Scheduled Maintenance Date"
          },
          "procession_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Procession Date"
          },
          "email_sent": {
            "type": "boolean",
            "title": "Email Sent"
          },
          "email_sent_at": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Email Sent At"
          },
          "created_at": {
            "type": "string",
            "format": "date-time",
            "title": "Created At"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time",
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "rego",
          "id",
          "status",
          "condition",
          "mileage",
          "scheduled_mileage",
          "notes",
          "maintenance_cycle_days",
          "maintenance_cycle_mileage",
          "repair_supplier_id",
          "last_maintenance_date",
          "next_maintenance_date",
          "scheduled_maintenance_date",
          "procession_date",
          "email_sent",
          "email_sent_at",
          "created_at",
          "updated_at"
        ],
        "title": "VehicleResponse",
        "description": "Schema for vehicle response."
      },
      "VehicleUpdate": {
        "properties": {
          "rego": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 20,
                "minLength": 1
              },
              {
                "type": "null"
              }
            ],
            "title": "Rego"
          },
          "alias": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Alias"
          },
          "nickname": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Nickname"
          },
          "brand": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 50
              },
              {
                "type": "null"
              }
            ],
            "title": "Brand"
          },
          "model": {
            "anyOf": [
              {
                "type": "string",
                "maxLength": 100
              },
              {
                "type": "null"
              }
            ],
            "title": "Model"
          },
          "status": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Status",
            "description": "Vehicle status: 'in-use' or 'not-in-use'"
          },
          "condition": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Condition",
            "description": "Vehicle condition: 'available', 'need-repair', or 'unavailable'"
          },
          "mileage": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mileage"
          },
          "scheduled_mileage": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Scheduled Mileage"
          },
          "notes": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Notes"
          },
          "maintenance_cycle_days": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Maintenance Cycle Days"
          },
          "maintenance_cycle_mileage": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Maintenance Cycle Mileage"
          },
          "repair_supplier_id": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Repair Supplier Id"
          },
          "next_maintenance_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Next Maintenance Date"
          },
          "scheduled_maintenance_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date-time"
              },
              {
                "type": "null"
              }
            ],
            "title": "Scheduled Maintenance Date"
          },
          "procession_date": {
            "anyOf": [
              {
                "type": "string",
                "format": "date"
              },
              {
                "type": "null"
              }
            ],
            "title": "Procession Date"
          }
        },
        "type": "object",
        "title": "VehicleUpdate",
        "description": "Schema for updating vehicle."
      },
      "VehicleUsageHistoryResponse": {
        "properties": {
          "vehicle_id": {
            "type": "integer",
            "title": "Vehicle Id"
          },
          "rego": {
            "type": "string",
            "title": "Rego"
          },
          "alias": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Alias"
          },
          "brand": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Brand"
          },
          "model": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Model"
          },
          "assignments": {
            "items": {
              "$ref": "#/components/schemas/VehicleAssignmentHistoryItem"
            },
            "type": "array",
            "title": "Assignments",
            "default": []
          },
          "total_assignments": {
            "type": "integer",
            "title": "Total Assignments",
            "default": 0
          },
          "inspections": {
            "items": {
              "$ref": "#/components/schemas/VehicleInspectionPhotoResponse"
            },
            "type": "array",
            "title": "Inspections",
            "default": []
          },
          "total_inspections": {
            "type": "integer",
            "title": "Total Inspections",
            "default": 0
          },
          "maintenance_records": {
            "items": {
              "$ref": "#/components/schemas/VehicleMaintenanceResponse"
            },
            "type": "array",
            "title": "Maintenance Records",
            "default": []
          },
          "total_maintenance": {
            "type": "integer",
            "title": "Total Maintenance",
            "default": 0
          }
        },
        "type": "object",
        "required": [
          "vehicle_id",
          "rego",
          "alias",
          "brand",
          "model"
        ],
        "title": "VehicleUsageHistoryResponse",
        "description": "Schema for comprehensive vehicle usage history."
      },
      "app__models__driver_checkin__CheckinStatus": {
        "type": "string",
        "enum": [
          "not_checked_in",
          "checked_in"
        ],
        "title": "CheckinStatus"
      },
      "app__models__schedule__CheckinStatus": {
        "type": "string",
        "enum": [
          "not_checked_in",
          "checked_in"
        ],
        "title": "CheckinStatus",
        "description": "Driver check-in status."
      }
    },
    "securitySchemes": {
      "HTTPBearer": {
        "type": "http",
        "scheme": "bearer"
      }
    }
  }
}